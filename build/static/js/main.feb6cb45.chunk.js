(this["webpackJsonpclient_version_1.0"]=this["webpackJsonpclient_version_1.0"]||[]).push([[0],{215:function(e,t,a){e.exports=a.p+"static/media/Buy.15bffe58.svg"},216:function(e,t,a){e.exports=a.p+"static/media/open-sign.e4b8f225.png"},217:function(e,t,a){e.exports=a.p+"static/media/closed.cd6f8b96.svg"},223:function(e,t,a){e.exports=a.p+"static/media/tick.3e81d0d4.svg"},224:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAACP0lEQVR4nO3cXW7TQBDA8b8iNbkDvVNpK5RDQOEaFDgGpUeBVny+AOHrFQ4QngMPjukLrXfTjWcd/3/SSFVrjSZepbbXowFJkiRJkiRJkiRJkrRrZsBD4AL4vY4L4ASYBtY1SvvAB+DPNfF+fYx6MOPmxWjjHX5TevGI7sVo40FQjaNySfqCvAqqcVSWpC/IMqjGjU2iC9iyVXQBuYa4IB+3dGwVhrggLzKOPdtaFfpnRvOc0XX9eIu3vb3Zp3nOuGkx7oRVN1JTmueMlzR3U8v1z/fxmyFJkiRJO28KzIFzYMHVO/XF+ndzfDjszTHwg+69rO/AUVCNozABnpL+cqqNJwxzV7t6z8hfjDZOA+q9tdJ9TiXzHbP5YrRxGFh/dr7SfU4l801Ju2Z0xTdgL6D+7Hyl+5xK55sn5EqNewH1Z+cr3edUOt95Rr6uSHmlG34+Svc5lc73JSNfVywC6s/OV7rPKTLf0Otf5t6fl+5z6rtvqvb6VxPK9zmVzvczI1+XXwnHhJ6PCeX7nErne5ORr8vrhGPCz0fpPqfS+SJue8PPR+k+p5L5pjQbhbddjK/kPRiGn4/SfU4l8x3950PkxAo4CKx/G/nCbbLT28bjgHp33oRmKz33m3GK2+9bdUizUZhyzbgbVOPo7NHcMZ0Bn7n6n/wJeL7+W+oFXJIkSZI0UM7LqojzsirivKzKOC+rMs7LqozzsgbMeVk9cF5WZZyXVRnnZVXIeVkV2rk+J0mSJEmSJEmSJEmSdL2//d7q9bTvwtQAAAAASUVORK5CYII="},225:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAE5UlEQVR4nNWba4hVVRSAv7mjlWEz9phpLLMHPUzGyChKjII0SDF7QpDVXxGkqSAmQjToAdGfJAgiKLW0fPwJVCgliupHBGFvnYLSGh2ntJg7ozM64/RjneOce+45d+99zt77HD/YOPe6ztpr7bPPPmuvvW4TZyaTgPnAdcB04CLgH+AQsA/4ChgtzDqHzAU2AEeA8QbtSCB3YzFm2mcGsBEYo7Hj8TYGvAdc4t9ke9yGTG0Tx+OtH7jDt+E2uA8YJp/zYTsOLPVrfj7mAoPYcT5sx4CbfTqRlWnAn9h1Pmz7gRZ/rmTjVdw4H7aX/blizmXI8+pyAI4hbxaa/fhkRBdwt6bsL8DbwGZgDxIQtWlcNxk4CnyRxUDX7EF9B0eBp4BK7NpK8P2oho5vHfuRiZnoTeFuhZ5uTT0zrHuQk4WojT6ATOFGTA7kVLoWxKdQ0VyhIfMxcFIhczKQU3Fl2QagQ0Pmb01dOnIdZRuAExoyl2vq0plNJ8o2AL0aMouBVoVMK7BIQ9dBDRmvdKK3er+j0POupp4brHuQkybkrugY/z71QU9b8L3O9X1Bf6VjA/oh7XHgE2Bd8K9JCL3Rl0OmLMXdHiDaHvTlkCnNwB+4db6XIJgq21sAJI+nWuTy8hbqYKpQ2oEqbu5+NdAPlHMGgCQx1zrSvTbQX3paUef/Tdu/wAU+nchLF3YHoMuv+flpRhIXNpz/DjlSO+OYh/mJULyNAbf6Ntwmr5NvAF7zb7JdzgF+JJvzPwNT/Jtsn1uQfIGJ88PATUUY64onMRuAFcWY6Zb16Dm/SUdZEfvhKcASJGWlikRPAR8BPZHvpgJfA7MbXPcTsuoPZTfTDXcBhzGbxr8l6JkFDKTIDyClM6XjWuSOmK7iSQMAcnz2X0z2KLDAxCifkVE3cG7w91/AVtRZ4CHgw5T/24Xc6WXI4/Q7kg7TTZt7p4eJO3VnwbacRnc7fJbHvkrBpcALwDdMlKkMBp/XkK3qKprs/J6Jx6FUVIBVqBerIeB5zF6js4CRiI711qy2xCRgG2Yr9BbMFtKVseuXW7LdCm+QbbNhmrr6IHLtMCWp2pqHRF1ZBmAcuN2gr6lIpBZeux8pbSmUT2nsoKrkZJdhf7OprQHcQYFviemkZ1w+A+Ygqak5wOcpcqPAxYb9PhrTsSqnH5l5mGSnDgDnxWRbSC9gzHLU9Ca1g7gwg45cVEgvONiBHCJEGQC2p8jrFCTEeRqJLUBm2SY8Fy5VSH+XpxUinW2x/xHgIeTHDiDH29uwE3lq8wTJU7qf+vP3dmSzkSS/LIcNi6ldh1ydCiVyNckOjQM/APcgoe8iGicmr8ppx0sxfY/k1GfEr6Q7ptP2WbChGdgd0VkFrregV4vnyDcAz1qyox3JFYR69+KptL2N7D9OqAIXWrRlPrXpb63kpg1eIdsAvOjAlmdifax00Ecd09Cv0ApbL+qavSw0UbszHUG20855ALMBuN+hLS3UptHWOeyrhq3oOb/Zgy33RvrrUchao4P0YCds/ZhvfrKwJNLnXhcdJGVz+oDHgJ0kb1FPIVHf4eBzJfhs+9eZ5yNRasiXlvUrWU3y3V8dk0sLpW22KnCNEy8bUKF+PdhC/ax4HLfO9+HwZ6+qrG4TctTUiewLwsxRlAqS3Oi0bNsg8txvR3KHTvgfp2q/ykzT8dgAAAAASUVORK5CYII="},226:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABmJLR0QA/wD/AP+gvaeTAAAD7ElEQVR4nO2bzW8NURiHn0obRD+wbJVIVItNaVmR+KqNpB//APFXCMWmZSukS9KwI6SiK27ZiEixEdWGEKFdCW3a9GPBdS3OmUzTdHpn7pwzM8d9n+Rk7r1z5j3v/HrOed85cwqCIAiCIAiCIAiuUg28BwqOlAmg1ooSJVAB3Cd9UaKWR9r31LmEcmga2JWyL2HYCfxE+dybsi+cAv4AeeB0yr5EoYMM+N0EzKD+khfTciIGvSjfZ4E9STe+PGgMkZG5JCIVwD1SCCrLg0amolkJLO8IiQUVL2jM4EbQKEaiQcXVoFGMRIKK60GjGNaDyhj2k9uw2PZjLKwjUSbNKDdYKjXAfJE6taheYhvjASVqL4nCQ237aIi6x3XdB5Z8sXafNgU8h59KFGNY1z1jyRcnBdwAfNX2z69R74Ku8wVYb8kXJwUEOAIs6TYeA8dQiW41ath6PW8JOGzRD2cFBJWP/WD1yFjQ505a9sFpAQG2AleAt6iIPA+8AS4DWxJo33kB0ybSfa6z6EhZIALGRASMSWXaDqygGehGReMGoFH/PglMATlUsv0pFe9iYjOItAPPCE5fVpYRoM2SL05F4SpgAPirbf8CbgGdqN64SZdmoAu4resU9DU3MT+KnBFwC/Bc21wA+gj3eqAW6AcW8XvjZoN+OSFgFb5434H9AfVGgVcB59pQc6Mnoqme6ISAA/ji1cdosx5fxBuGfMu8gO2o+WuB4J4Xpc0DqOGc15/jknkBvWjbZ7DNq7peLoZfUdtMxXAzfrQNEzDCtlmH2ptTQL38ikOmn4V79HEImDNodxZ/NbvboN2iJC3gCX0ctmDbs9lhwXYgSQu4Qx8/WLA9ro/bLdg2gok5cE7bqAlRd2/ENmt03bhTQ6bnwLCcBV7rz+NrVXQJEz3wo7axO+D8RlRC7LV1F/UsHIYWfc1ETB8zncbktI2ugPOj+vw8qhdGoUdf+6Rk7xSZHsJeotsZcP438A44BNyJaNuzaSKZtkIaiXRYUkuk0zA8ou30G7DlcQ0zwxccELANtZiwiJmH/3bUboU80GrAXuYFBLWSXEAtRTXEsNOAv5x13YBf4IiAlfhDeQo4WIKNVuAb/ipMWS2oglqG90RcRC1J1YW4rg4153kbkZ5Shkv6HpWoxDmvbU8Dg6gVlRb83VktqDxvED/a5lHDtmxfKi1nH/72tTAlh5kAtBqR7rOUPdI2/xmlCf/FeiOwTf8+qYv3Yv2zRR+s3afNHpglMv0o998hAsZEBIyJCBgTUwK+BF44/L1kTAno7a5y9XsiSBqzCjIHxkQEjEkpD+LlMIxDIz1QEARBEARBEATBOf4BaIERhOln2MYAAAAASUVORK5CYII="},252:function(e,t,a){e.exports=a(446)},257:function(e,t,a){},258:function(e,t,a){},40:function(e,t,a){e.exports=a.p+"static/media/SuperMart.36bdf564.svg"},446:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),l=a.n(o),c=(a(257),a(258),a(25)),i=a(19),u=a(5),m=a(40),s=a.n(m),d=a(12),g=a.n(d),p="http://localhost:5050/admin/",f=function(e){return new Promise((function(t,a){g.a.post("".concat(p,"dealers"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))},h=function(e,t){return new Promise((function(a,n){g.a.post("".concat(p,"upload"),e,t).then((function(e){a(e)})).catch((function(e){n(e)}))}))},E=function(e,t){return new Promise((function(a,n){g.a.post("".concat(p,"dealers/").concat(e),t).then((function(e){a(e)})).catch((function(e){n(e)}))}))},b=function(e,t){return new Promise((function(a,n){g.a.post("".concat(p).concat(t),e).then((function(e){a(e)})).catch((function(e){n(e)}))}))},v=function(e,t){return new Promise((function(a,n){g.a.post("".concat(p,"/").concat(t),e).then((function(e){a(e)})).catch((function(e){n(e)}))}))},O=function(e){return{type:"AUTH_SUCCESS",token:e}},S=function(){return localStorage.removeItem("aToken"),{type:"AUTH_LOGOUT"}},j=function(e,t){return function(a){a({type:"AUTH_START"}),v({username:e,password:t},"login").then((function(e){console.log(e),localStorage.setItem("aToken",e.data.token),a(O(e.data.token))})).catch((function(e){console.log(e),a({type:"AUTH_FAIL",error:"Server Down"})}))}},y=a(516),w=a(487),k=a(481),C=a(517),x=a(110),A=a.n(x),N=a(86),T=a(477),I=a(479),P=Object(T.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),R=Object(i.b)((function(e){return{token:e.admin.token,error:e.admin.error,loading:e.admin.loading}}),(function(e){return{onSubmitForm:function(t,a){return e(j(t,a))}}}))((function(e){var t=P(),a=Object(n.useState)({username:"",password:""}),o=Object(u.a)(a,2),l=o[0],i=o[1];return r.a.createElement(I.a,{component:"main",maxWidth:"xs"},e.token?r.a.createElement(c.a,{to:"/admin/dash"}):null,r.a.createElement(k.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(y.a,{className:t.avatar},r.a.createElement(A.a,null)),r.a.createElement("img",{alt:"logo",src:s.a}),e.error?r.a.createElement(N.a,null,"Wrong Password or Username"):null,r.a.createElement(N.a,{component:"h1",variant:"h5"},"Admin Panel"),r.a.createElement("form",{className:t.form,onSubmit:function(t){t.preventDefault(),e.onSubmitForm(l.username,l.password)}},r.a.createElement(C.a,{value:l.username,onChange:function(e){i({username:e.target.value,password:l.password})},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"Username",label:"Username",name:"Username",autoComplete:"Username",autoFocus:!0}),r.a.createElement(C.a,{value:l.password,onChange:function(e){i({username:l.username,password:e.target.value})},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"))))})),L=a(11),D=a(7),U=a(2),B=a(519),_=a(504),H=a(505),F=a(486),z=a(502),W=a(488),G=a(118),q=a.n(G),V=a(120),J=a.n(V),Y=a(119),M=a.n(Y),X=a(151),Z=a.n(X),K=a(449),Q=a(506),$=a(501),ee=a(213),te=a.n(ee),ae=a(121),ne=a.n(ae),re=a(9),oe=a(17),le=a.n(oe),ce=a(26),ie=a(513),ue=a(500),me=a(156),se=a(4),de=a(497),ge=a(499),pe=a(494),fe=a(496),he=a(498),Ee=a(495),be=a(116),ve=a.n(be),Oe=a(489),Se=a(493),je=a(491),ye=a(492),we=a(490),ke=a(80),Ce=a.n(ke);function xe(e){var t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],o=a[1],l=function(){o(!1)};return r.a.createElement("div",null,r.a.createElement(W.a,{onClick:function(){o(!0)},"aria-label":"delete"},r.a.createElement(Ce.a,null)),r.a.createElement(Oe.a,{open:n,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(we.a,{id:"alert-dialog-title"},"Are you sure you want to delete the dealer?"),r.a.createElement(je.a,null,r.a.createElement(ye.a,{id:"alert-dialog-description"},"The dealer will be deleted forever")),r.a.createElement(Se.a,null,r.a.createElement(w.a,{onClick:l,color:"primary"},"No"),r.a.createElement(w.a,{onClick:function(){e.click(),o(!1)},color:"primary",autoFocus:!0},"Yes"))))}var Ae=Object(se.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(pe.a),Ne=Object(se.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Ee.a),Te=Object(T.a)({table:{minWidth:700,overflowY:"scroll"}}),Ie=Object(c.g)((function(e){var t=function(t){var a=localStorage.getItem("aToken");(function(e,t){return new Promise((function(a,n){g.a.delete("".concat(p,"dealers/").concat(e),{headers:{authorization:"Brearer ".concat(t)}}).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t,a).then((function(a){e.del(t),console.log(a)}))},a=Te();console.log(e.data+"{Tabele");var n;return n=e.data.map((function(a){return r.a.createElement(Ne,{key:a._id+new Date},r.a.createElement(Ae,{align:"left"},a.dealer_name),r.a.createElement(Ae,{align:"right"},a.username),r.a.createElement(Ae,{align:"right"},a.address),r.a.createElement(Ae,{align:"right"},a.phone),r.a.createElement(Ae,{align:"right"},a.live?"live":"close"),r.a.createElement(Ae,{align:"right"},r.a.createElement(xe,{click:function(){return t(a._id)}})),r.a.createElement(Ae,{align:"right"},r.a.createElement(W.a,{onClick:function(){return t=a._id,console.log("yess"),void e.history.push("/admin/dash/dealer/".concat(t));var t},"aria-label":"delete"},r.a.createElement(ve.a,null))))})),r.a.createElement(fe.a,{component:me.a},r.a.createElement(N.a,{component:"h2",variant:"h6",color:"secondary",gutterBottom:!0},"All Dealers"),r.a.createElement(de.a,{className:a.table,"aria-label":"customized table"},r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Ae,null,"Dealer Mart "),r.a.createElement(Ae,{align:"right"},"Dealer Name"),r.a.createElement(Ae,{align:"right"},"Address "),r.a.createElement(Ae,{align:"right"},"Phone"),r.a.createElement(Ae,{align:"right"},"Status"),r.a.createElement(Ae,{align:"right"},"Delete"),r.a.createElement(Ae,{align:"right"},"Edit"))),r.a.createElement(ge.a,null,n)))})),Pe=Object(T.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(L.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:150}}})),Re=Object(i.b)((function(e){return{token:e.admin.token,error:e.admin.error,loading:e.admin.loading}}),(function(e){return{onSubmitForm:function(t,a){return e(j(t,a))}}}))((function(e){var t=Object(n.useState)({data:null}),a=Object(u.a)(t,2),o=a[0],l=a[1];Object(n.useEffect)((function(){!function(){var e=Object(ce.a)(le.a.mark((function e(){var t,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:localStorage.getItem("aToken")},e.next=3,f(t);case 3:a=e.sent,l({data:a.data});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var c=Pe(),i=Object(U.a)(c.paper,c.fixedHeight);o.data&&console.log(o.data);var m=null,s=null;return o.data&&(m=function(e){if(e){for(var t=0,a=0;e.length-1>=a;a++)e[a].live&&t++;return t}}(o.data),s=function(e){if(e){for(var t=0,a=0;e.length-1>=a;a++)!1===e[a].live&&t++;return t}}(o.data)),r.a.createElement("main",{className:c.content},r.a.createElement("div",{className:c.appBarSpacer}),r.a.createElement(I.a,{maxWidth:"lg",className:c.container},r.a.createElement(ue.a,{container:!0,spacing:3},r.a.createElement(ue.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(me.a,{className:i},r.a.createElement(N.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Total"),r.a.createElement(N.a,{component:"p",variant:"h4"},o.data?o.data.length:0),r.a.createElement(N.a,{color:"textSecondary",className:c.depositContext},"Dealers"))),r.a.createElement(ue.a,{item:!0,xs:12,md:4,lg:4},r.a.createElement(me.a,{className:i},r.a.createElement(N.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Open"),r.a.createElement(N.a,{component:"p",variant:"h4"},m),r.a.createElement(N.a,{color:"textSecondary",className:c.depositContext},"Dealers"))),r.a.createElement(ue.a,{item:!0,xs:12,md:3,lg:4},r.a.createElement(me.a,{className:i},r.a.createElement(N.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Close"),r.a.createElement(N.a,{component:"p",variant:"h4"},s),r.a.createElement(N.a,{color:"textSecondary",className:c.depositContext},"Dealers")))),r.a.createElement(ie.a,{pt:4}),r.a.createElement(re.c,{to:"/admin/dash/add"},r.a.createElement(w.a,{variant:"contained",color:"primary"},"Add")),r.a.createElement("br",null),r.a.createElement("br",null),o.data?r.a.createElement(Ie,{data:o.data,del:function(e){console.log(o.data),console.log(e);var t=o.data.filter((function(t){return t._id!==e}));console.log(t),l({data:t})}}):r.a.createElement(N.a,null,"Loading....")))})),Le=Object(T.a)((function(e){return{paper:{margin:100,padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:"100%",width:"50%"}}}));var De=function(){var e=Object(n.useState)({units:null}),t=Object(u.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)({unit:""}),c=Object(u.a)(l,2),i=c[0],m=c[1];Object(n.useEffect)((function(){var e={token:localStorage.getItem("aToken")};b(e,"unit").then((function(e){console.log(e.data[0].units),o({units:e.data[0].units})}))}),[]);var s=null;a.units&&(s=a.units.map((function(e){return r.a.createElement("div",null,r.a.createElement(K.a,{button:!0},r.a.createElement($.a,{primary:e})),r.a.createElement(z.a,null))})));var d=Le(),g=Object(U.a)(d.paper,d.fixedHeight);return r.a.createElement(I.a,null,r.a.createElement(me.a,{className:g},r.a.createElement(N.a,null,"UNITS"),r.a.createElement(F.a,{component:"nav",className:d.root,"aria-label":"mailbox folders"},s),r.a.createElement(C.a,{onChange:function(e){m({unit:e.target.value})},required:!0,value:i.unit,type:"text",label:"Add a unit"}),r.a.createElement("br",null),r.a.createElement(w.a,{onClick:function(){if(i.unit){var e=a.units,t=i.unit;console.log(i.unit),e.push(t),o({units:e});var n={token:localStorage.getItem("aToken"),unit:i.unit};b(n,"addunit").then((function(e){m({unit:""})}))}},type:"submit",variant:"contained",style:{margin:10,width:100},size:"small",color:"primary"},"Add unit")))},Ue=a(503),Be=a(482),_e=a(521),He=a(117),Fe=a(62),ze=function(e){return new Promise((function(t,a){var n=new Image;n.addEventListener("load",(function(){return t(n)})),n.addEventListener("error",(function(e){return a(e)})),n.setAttribute("crossOrigin","anonymous"),n.src=e}))};function We(e){return e*Math.PI/180}function Ge(e,t){return qe.apply(this,arguments)}function qe(){return(qe=Object(ce.a)(le.a.mark((function e(t,a){var n,r,o,l,c,i,u,m=arguments;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.length>2&&void 0!==m[2]?m[2]:0,e.next=3,ze(t);case 3:return r=e.sent,o=document.createElement("canvas"),l=o.getContext("2d"),c=Math.max(r.width,r.height),i=c/2*Math.sqrt(2)*2,o.width=i,o.height=i,l.translate(i/2,i/2),l.rotate(We(n)),l.translate(-i/2,-i/2),l.drawImage(r,i/2-.5*r.width,i/2-.5*r.height),u=l.getImageData(0,0,i,i),o.width=a.width,o.height=a.height,l.putImageData(u,Math.round(0-i/2+.5*r.width-a.x),Math.round(0-i/2+.5*r.height-a.y)),e.abrupt("return",new Promise((function(e){o.toBlob((function(t){e(t)}),"image/jpeg")})));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ve=Object(T.a)((function(e){return{paper:{margin:100,padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:"100%"},form:{margin:e.spacing(1),width:"100ch"},large:{width:e.spacing(20),height:e.spacing(20)},cropContainer:Object(L.a)({position:"relative",width:"100%",height:200,background:"#333"},e.breakpoints.up("sm"),{height:400}),cropButton:{flexShrink:0,marginLeft:16},controls:Object(L.a)({padding:16,display:"flex",flexDirection:"column",alignItems:"stretch"},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"center"}),sliderContainer:{display:"flex",flex:"1",alignItems:"center"},sliderLabel:Object(L.a)({},e.breakpoints.down("xs"),{minWidth:65}),slider:Object(L.a)({padding:"22px 0px",marginLeft:16},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"center",margin:"0 16px"})}})),Je=function(e){var t,a=Object(n.useState)({dealer_name:"",username:"",phone:"",email:"",address:"",password:"",color:"#FFFAFA"}),o=Object(u.a)(a,2),l=o[0],c=o[1],i=Object(n.useState)({select:null}),m=Object(u.a)(i,2),s=m[0],d=m[1],f=Object(n.useState)(),E=Object(u.a)(f,2),b=E[0],v=E[1],O=Object(n.useState)({x:0,y:0}),S=Object(u.a)(O,2),j=S[0],k=S[1],x=Object(n.useState)(0),A=Object(u.a)(x,2),T=A[0],P=A[1],R=Object(n.useState)(1),B=Object(u.a)(R,2),_=B[0],H=B[1],F=Object(n.useState)(null),z=Object(u.a)(F,2),W=z[0],G=z[1],q=Object(n.useState)(null),V=Object(u.a)(q,2),J=V[0],Y=V[1],M=Object(n.useCallback)((function(e,t){G(t)}),[]),X=Object(n.useCallback)(Object(ce.a)(le.a.mark((function e(){var t,a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(null),e.prev=1,e.next=4,Ge(b,W,T);case 4:t=e.sent,a=URL.createObjectURL(t),n=new File([t],"imageg.jpg"),d({select:n}),console.log(n),Y(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),[W,T]),Z=(Object(n.useCallback)((function(){Y(null)}),[]),Ve()),K=Object(U.a)(Z.paper,Z.fixedHeight),Q=function(e){c(Object(D.a)(Object(D.a)({},l),{},Object(L.a)({},e.target.name,e.target.value)))},$=Object(n.useState)(0),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)({image:null,thumbnail:null}),re=Object(u.a)(ne,2),oe=re[0],ie=re[1];return t=r.a.createElement(Ue.a,{style:{width:"40%"},variant:"determinate",value:te}),r.a.createElement(I.a,null,r.a.createElement(me.a,{className:K},r.a.createElement("h1",null,"Add Form"),r.a.createElement(y.a,{alt:"Upload the image",src:J,className:Z.large},"PHOTO"),r.a.createElement("br",null),t,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),function(e){return new Promise((function(t,a){g.a.post("".concat(p,"dealer"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))}({token:localStorage.getItem("aToken"),dealer_name:l.dealer_name,username:l.username,phone:l.phone,email:l.email,address:l.address,password:l.password,color:l.color,image:oe.image,thumbnail:oe.thumbnail}).then((function(t){console.log(t),e.history.push("/admin/dash/")})).catch((function(e){console.log(e)}))},autoComplete:"off"},r.a.createElement(Be.a,{required:!0,type:"file",name:"file",onChange:function(e){if(console.log(e.target.files[0].size),e.target.files[0].size>2e6)alert("File is too big!");else{var t=URL.createObjectURL(e.target.files[0]);v(t),ae(0),console.log(e.target.files[0]),d({select:e.target.files[0]})}}}),J?r.a.createElement(w.a,{onClick:function(){var e={onUploadProgress:function(e){var t=e.lengthComputable?e.total:e.target.getResponseHeader("content-length")||e.target.getResponseHeader("x-decompressed-content-length");console.log("onUploadProgress",t),null!==t&&ae(Math.round(100*e.loaded/t))}},t=new FormData;t.append("file",s.select),h(t,e).then((function(e){console.log(e.data.imageName),console.log(e.data.thumbnail),ie({image:e.data.imageName,thumbnail:e.data.thumbnail})}))}},"Upload Photo"):null,r.a.createElement(C.a,{required:!0,name:"username",value:l.username,onChange:Q,className:Z.form,label:"Username"}),r.a.createElement(C.a,{required:!0,onChange:Q,name:"password",value:l.password,type:"password",className:Z.form,label:"Password"}),r.a.createElement(C.a,{required:!0,onChange:Q,name:"address",value:l.address,className:Z.form,label:"Address"}),r.a.createElement(C.a,{required:!0,onChange:Q,name:"dealer_name",value:l.dealer_name,className:Z.form,label:"Dealer_name"}),r.a.createElement(C.a,{required:!0,onChange:Q,name:"phone",value:l.phone,className:Z.form,type:"number",label:"Phone"}),r.a.createElement(C.a,{required:!0,onChange:Q,name:"email",value:l.email,className:Z.form,type:"email",label:"Email"}),r.a.createElement("br",null),r.a.createElement("br",null),b?r.a.createElement(Oe.a,{fullScreen:!0,open:!0},r.a.createElement("div",{style:{margin:50}},r.a.createElement("div",{className:Z.cropContainer},r.a.createElement(Fe.a,{image:b,crop:j,rotation:T,zoom:_,aspect:4/3,onCropChange:k,onRotationChange:P,onCropComplete:M,onZoomChange:H})),r.a.createElement("div",{className:Z.sliderContainer},r.a.createElement(N.a,{variant:"overline",className:Z.sliderLabel},"Zoom"),r.a.createElement(_e.a,{value:_,min:1,max:3,step:.1,"aria-labelledby":"Zoom",className:Z.slider,onChange:function(e,t){return H(t)}})),r.a.createElement("div",{className:Z.sliderContainer},r.a.createElement(N.a,{variant:"overline",className:Z.sliderLabel},"Rotation"),r.a.createElement(_e.a,{value:T,min:0,max:360,step:1,"aria-labelledby":"Rotation",className:Z.slider,onChange:function(e,t){return P(t)}})),r.a.createElement(w.a,{onClick:X,variant:"contained",color:"primary",className:Z.cropButton},"Crop"))):null,r.a.createElement(N.a,null,"Pick a color"),r.a.createElement(He.SliderPicker,{onChange:function(e){return c(Object(D.a)(Object(D.a)({},l),{},{color:e.hex}))},color:l.color,onChangeComplete:function(e){console.log(e.hex),c(Object(D.a)(Object(D.a)({},l),{},{color:e.hex}))}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary"},"Add Dealer"))))},Ye=Object(T.a)((function(e){return{paper:{margin:100,padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:"100%"},form:{margin:e.spacing(1),width:"100ch"},large:{width:e.spacing(20),height:e.spacing(20)},cropContainer:Object(L.a)({position:"relative",width:"100%",height:200,background:"#333"},e.breakpoints.up("sm"),{height:400}),cropButton:{flexShrink:0,marginLeft:16},controls:Object(L.a)({padding:16,display:"flex",flexDirection:"column",alignItems:"stretch"},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"center"}),sliderContainer:{display:"flex",flex:"1",alignItems:"center"},sliderLabel:Object(L.a)({},e.breakpoints.down("xs"),{minWidth:65}),slider:Object(L.a)({padding:"22px 0px",marginLeft:16},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"center",margin:"0 16px"})}})),Me=function(e){var t=e.match.params.id?e.match.params.id:"",a=Object(n.useState)(),o=Object(u.a)(a,2),l=o[0],c=o[1],i=Object(n.useState)({select:null}),m=Object(u.a)(i,2),s=m[0],d=m[1],f=Object(n.useState)({x:0,y:0}),b=Object(u.a)(f,2),v=b[0],O=b[1],S=Object(n.useState)(0),j=Object(u.a)(S,2),k=j[0],x=j[1],A=Object(n.useState)(1),T=Object(u.a)(A,2),P=T[0],R=T[1],B=Object(n.useState)(null),_=Object(u.a)(B,2),H=_[0],F=_[1],z=Object(n.useState)(null),W=Object(u.a)(z,2),G=W[0],q=W[1],V=Object(n.useCallback)((function(e,t){F(t)}),[]),J=Object(n.useCallback)(Object(ce.a)(le.a.mark((function e(){var t,a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(null),e.prev=1,e.next=4,Ge(l,H,k);case 4:t=e.sent,a=URL.createObjectURL(t),n=new File([t],"imageg.jpg"),d({select:n}),console.log(n),q(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),[H,k]);Object(n.useCallback)((function(){q(null)}),[]);Object(n.useEffect)((function(){!function(){var e=Object(ce.a)(le.a.mark((function e(){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:localStorage.getItem("aToken")},e.next=3,E(t,a);case 3:n=e.sent,Z({dealer_name:n.data.dealer_name,username:n.data.username,phone:n.data.phone,email:n.data.email,address:n.data.address,color:n.data.color,image:n.data.image});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);var Y=Object(n.useState)({dealer_name:" ",username:" ",phone:"",email:"",address:"",color:"",image:""}),M=Object(u.a)(Y,2),X=M[0],Z=M[1],K=Ye(),Q=Object(U.a)(K.paper,K.fixedHeight),$=function(e){Z(Object(D.a)(Object(D.a)({},X),{},Object(L.a)({},e.target.name,e.target.value)))},ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)({image:null,thumbnail:null}),oe=Object(u.a)(re,2),ie=(oe[0],oe[1]);return r.a.createElement(Ue.a,{style:{width:"40%"},variant:"determinate",value:ae}),console.log(X),r.a.createElement(I.a,null,r.a.createElement(me.a,{className:Q},r.a.createElement("h1",null,"Edit Form"),r.a.createElement(y.a,{src:G||X.image.thumbnail,className:K.large},"PHOTO"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ue.a,{style:{width:"60%"},variant:"determinate",value:ae}),r.a.createElement(Be.a,{required:!0,type:"file",name:"file",onChange:function(e){if(console.log(e.target.files[0].size),e.target.files[0].size>2e6)alert("File is too big!");else{var t=URL.createObjectURL(e.target.files[0]);c(t),ne(0),console.log(e.target.files[0]),d({select:e.target.files[0]})}}}),G?r.a.createElement(w.a,{onClick:function(){var e={onUploadProgress:function(e){var t=e.lengthComputable?e.total:e.target.getResponseHeader("content-length")||e.target.getResponseHeader("x-decompressed-content-length");console.log("onUploadProgress",t),null!==t&&ne(Math.round(100*e.loaded/t))}},t=new FormData;t.append("file",s.select),h(t,e).then((function(e){console.log(e.data.imageName),console.log(e.data.thumbnail),Z(Object(D.a)(Object(D.a)({},X),{},{image:{imageName:e.data.imageName,thumbnail:e.data.thumbnail}})),ie({image:e.data.imageName,thumbnail:e.data.thumbnail})}))}},"Upload Photo"):null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={token:localStorage.getItem("aToken"),dealer_name:X.dealer_name,username:X.username,phone:X.phone,email:X.email,address:X.address,password:X.password,color:X.color,image:X.image};(function(e,t){return new Promise((function(a,n){g.a.put("".concat(p,"dealers/").concat(e),t).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(e.match.params.id,a).then((function(t){console.log(t),e.history.push("/admin/dash/")})).catch((function(e){console.log(e)}))},autoComplete:"off"},r.a.createElement(C.a,{required:!0,name:"username",value:X.username,onChange:$,className:K.form,label:"Username"}),r.a.createElement(C.a,{onChange:$,name:"password",value:X.password,type:"password",className:K.form,label:"Password"}),r.a.createElement(C.a,{required:!0,onChange:$,name:"address",value:X.address,className:K.form,label:"Address"}),r.a.createElement(C.a,{required:!0,onChange:$,name:"dealer_name",value:X.dealer_name,className:K.form,label:"Dealer_name"}),r.a.createElement(C.a,{required:!0,onChange:$,name:"phone",value:X.phone,className:K.form,type:"number",label:"Phone"}),r.a.createElement(C.a,{required:!0,onChange:$,name:"email",value:X.email,className:K.form,type:"email",label:"Email"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(N.a,null,"Pick a color"),r.a.createElement(He.SliderPicker,{onChange:function(e){return Z(Object(D.a)(Object(D.a)({},X),{},{color:e.hex}))},color:X.color,onChangeComplete:function(e){console.log(e.hex),Z(Object(D.a)(Object(D.a)({},X),{},{color:e.hex}))}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary"},"Edit Dealer"))),l?r.a.createElement(Oe.a,{fullScreen:!0,open:!0},r.a.createElement("div",{style:{margin:50}},r.a.createElement("div",{className:K.cropContainer},r.a.createElement(Fe.a,{image:l,crop:v,rotation:k,zoom:P,aspect:4/3,onCropChange:O,onRotationChange:x,onCropComplete:V,onZoomChange:R})),r.a.createElement("div",{className:K.sliderContainer},r.a.createElement(N.a,{variant:"overline",className:K.sliderLabel},"Zoom"),r.a.createElement(_e.a,{value:P,min:1,max:3,step:.1,"aria-labelledby":"Zoom",className:K.slider,onChange:function(e,t){return R(t)}})),r.a.createElement("div",{className:K.sliderContainer},r.a.createElement(N.a,{variant:"overline",className:K.sliderLabel},"Rotation"),r.a.createElement(_e.a,{value:k,min:0,max:360,step:1,"aria-labelledby":"Rotation",className:K.slider,onChange:function(e,t){return x(t)}})),r.a.createElement(w.a,{onClick:J,variant:"contained",color:"primary",className:K.cropButton},"Crop Image"))):null)},Xe=Object(T.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(L.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:150}}})),Ze=Object(i.b)((function(e){return{token:e.admin.token,error:e.admin.error,loading:e.admin.loading}}),(function(e){return{logoutHandler:function(){return e(S)}}}))((function(e){var t=Xe(),a=r.a.useState(!0),n=Object(u.a)(a,2),o=n[0],l=n[1];return r.a.createElement("div",{className:t.root},r.a.createElement(k.a,null),r.a.createElement(_.a,{position:"absolute",className:Object(U.a)(t.appBar,o&&t.appBarShift)},r.a.createElement(H.a,{className:t.toolbar},r.a.createElement(W.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},className:Object(U.a)(t.menuButton,o&&t.menuButtonHidden)},r.a.createElement(q.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},"Dashboard"),r.a.createElement("a",{href:"/admin/logout"},r.a.createElement(W.a,{onClick:e.logoutHandler,color:"inherit"},r.a.createElement(M.a,null))))),r.a.createElement(B.a,{variant:"permanent",classes:{paper:Object(U.a)(t.drawerPaper,!o&&t.drawerPaperClose)},open:o},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(N.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},"Admin"),r.a.createElement(Z.a,null),r.a.createElement(W.a,{onClick:function(){l(!1)}},r.a.createElement(J.a,null))),r.a.createElement(z.a,null),r.a.createElement(F.a,null,r.a.createElement(K.a,{to:"/admin/dash",component:re.b,button:!0},r.a.createElement(Q.a,null,r.a.createElement(te.a,{style:{color:"#3f51b5"}})),r.a.createElement($.a,{primary:"Dealers"})),r.a.createElement(K.a,{to:"/admin/dash/setting",component:re.b,button:!0},r.a.createElement(Q.a,null,r.a.createElement(ne.a,{style:{color:"#3f51b5"}})),r.a.createElement($.a,{primary:"Settings"}))),r.a.createElement(z.a,null)),r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/admin/dash/dealer/:id",component:Me}),r.a.createElement(c.b,{path:"/admin/dash/setting",exact:!0,component:De}),r.a.createElement(c.b,{path:"/admin/dash/add",exact:!0,component:Je}),r.a.createElement(c.b,{path:"/admin/dash",component:Re})))})),Ke=function(){return r.a.createElement(c.a,{to:"/admin/login"})},Qe="http://localhost:5050/dealer/",$e=function(e){return new Promise((function(t,a){g.a.post("".concat(Qe,"products"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))},et=function(e,t){return new Promise((function(a,n){g.a.post("".concat(Qe,"upload"),e,t).then((function(e){a(e)})).catch((function(e){n(e)}))}))},tt=function(e,t){return new Promise((function(a,n){g.a.post("".concat(Qe,"productsingle/").concat(e),t).then((function(e){a(e)})).catch((function(e){n(e)}))}))},at=function(e){return new Promise((function(t,a){g.a.post("".concat(Qe,"unit"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))},nt=function(e,t){return new Promise((function(a,n){g.a.post("".concat(Qe,"/").concat(t),e).then((function(e){a(e)})).catch((function(e){n(e)}))}))},rt=function(e){return{type:"AUTH_SUCCESS_DEALER",token:e}},ot=function(){return localStorage.removeItem("dToken"),{type:"AUTH_LOGOUT_DEALER"}},lt=function(e,t){return function(a){a({type:"AUTH_START_DEALER"}),nt({username:e,password:t},"login").then((function(e){console.log(e),localStorage.setItem("dToken",e.data.token),a(rt(e.data.token))})).catch((function(e){console.log(e),a({type:"AUTH_FAIL_DEALER",error:"Server Down"})}))}},ct=Object(T.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),it=Object(i.b)((function(e){return{token:e.dealer.token,error:e.dealer.error,loading:e.dealer.loading}}),(function(e){return{onSubmitForm:function(t,a){return e(lt(t,a))}}}))((function(e){var t=ct(),a=Object(n.useState)({username:"",password:""}),o=Object(u.a)(a,2),l=o[0],i=o[1];return r.a.createElement(I.a,{component:"main",maxWidth:"xs"},e.token?r.a.createElement(c.a,{to:"/dealer/dash"}):null,r.a.createElement(k.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(y.a,{className:t.avatar},r.a.createElement(A.a,null)),r.a.createElement("img",{alt:"logo",src:s.a}),e.error?r.a.createElement(N.a,null,"Wrong Password or Username or Server Down"):null,r.a.createElement(N.a,{component:"h1",variant:"h5"},"Dealer Panel"),r.a.createElement("form",{className:t.form,onSubmit:function(t){t.preventDefault(),console.log("He"),e.onSubmitForm(l.username,l.password)}},r.a.createElement(C.a,{value:l.username,onChange:function(e){i({username:e.target.value,password:l.password})},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"Username",label:"Username",name:"Username",autoComplete:"Username",autoFocus:!0}),r.a.createElement(C.a,{value:l.password,onChange:function(e){i({username:l.username,password:e.target.value})},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"))))})),ut=a(514),mt=Object(T.a)((function(e){return{paper:{margin:100,padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:"100%"},form:{margin:e.spacing(1),width:"100ch"},large:{width:e.spacing(20),height:e.spacing(20)},cropContainer:Object(L.a)({position:"relative",width:"100%",height:200,background:"#333"},e.breakpoints.up("sm"),{height:400}),cropButton:{flexShrink:0,marginLeft:16},controls:Object(L.a)({padding:16,display:"flex",flexDirection:"column",alignItems:"stretch"},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"center"}),sliderContainer:{display:"flex",flex:"1",alignItems:"center"},sliderLabel:Object(L.a)({},e.breakpoints.down("xs"),{minWidth:65}),slider:Object(L.a)({padding:"22px 0px",marginLeft:16},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"center",margin:"0 16px"})}})),st=Object(c.g)((function(e){var t=Object(n.useState)({select:null}),a=Object(u.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(0),i=Object(u.a)(c,2),m=i[0],s=i[1],d=Object(n.useState)(),p=Object(u.a)(d,2),f=p[0],h=p[1],E=Object(n.useState)({x:0,y:0}),b=Object(u.a)(E,2),v=b[0],O=b[1],S=Object(n.useState)(0),j=Object(u.a)(S,2),k=j[0],x=j[1],A=Object(n.useState)(1),T=Object(u.a)(A,2),P=T[0],R=T[1],B=Object(n.useState)(null),_=Object(u.a)(B,2),H=_[0],F=_[1],z=Object(n.useState)(null),W=Object(u.a)(z,2),G=W[0],q=W[1],V=Object(n.useCallback)((function(e,t){F(t)}),[]),J=Object(n.useCallback)(Object(ce.a)(le.a.mark((function e(){var t,a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(null),e.prev=1,e.next=4,Ge(f,H,k);case 4:t=e.sent,a=URL.createObjectURL(t),n=new File([t],"imageg.jpg"),l({select:n}),console.log(n),q(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),[H,k]),Y=(Object(n.useCallback)((function(){q(null)}),[]),Object(n.useState)({image:null,thumbnail:null})),M=Object(u.a)(Y,2),X=(M[0],M[1]),Z=e.match.params.id?e.match.params.id:"";Object(n.useEffect)((function(){!function(){var e=Object(ce.a)(le.a.mark((function e(){var t,a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:localStorage.getItem("dToken")},e.next=3,tt(Z,t);case 3:a=e.sent,n=a.data[0],console.log(n),re({name:n.name,title:n.title,description:n.description,image:n.image,price:n.price,unit:n.unit,cat:n.cat,inventory:n.stock});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();var e={token:localStorage.getItem("dToken")};at(e).then((function(e){console.log(e.data[0].units),ee({units:e.data[0].units})}))}),[Z]);var K=Object(n.useState)({units:null}),Q=Object(u.a)(K,2),$=Q[0],ee=Q[1],te=Object(n.useState)({name:"",title:"",description:"",image:"",price:"",unit:"",cat:"",inventory:""}),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],oe=mt(),ie=Object(U.a)(oe.paper,oe.fixedHeight),ue=function(e){re(Object(D.a)(Object(D.a)({},ne),{},Object(L.a)({},e.target.name,e.target.value)))};return r.a.createElement(I.a,null,r.a.createElement(me.a,{className:ie},r.a.createElement("h1",null,"Edit Form"),r.a.createElement(y.a,{src:G||ne.image.thumbnail,className:oe.large},"PHOTO"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ue.a,{style:{width:"60%"},variant:"determinate",value:m}),r.a.createElement(Be.a,{required:!0,type:"file",name:"file",onChange:function(e){if(console.log(e.target.files[0].size),e.target.files[0].size>2e6)alert("File is too big!");else{var t=URL.createObjectURL(e.target.files[0]);h(t),s(0),console.log(e.target.files[0]),l({select:e.target.files[0]})}}}),G?r.a.createElement(w.a,{onClick:function(){var e=new FormData,t={onUploadProgress:function(e){var t=e.lengthComputable?e.total:e.target.getResponseHeader("content-length")||e.target.getResponseHeader("x-decompressed-content-length");console.log("onUploadProgress",t),null!==t&&s(Math.round(100*e.loaded/t))}};e.append("file",o.select),et(e,t).then((function(e){console.log(e.data.imageName),console.log(e.data.thumbnail),re(Object(D.a)(Object(D.a)({},ne),{},{image:{imageName:e.data.imageName,thumbnail:e.data.thumbnail}})),X({image:e.data.imageName,thumbnail:e.data.thumbnail})}))}},"Upload Photo"):null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={token:localStorage.getItem("dToken"),name:ne.name,title:ne.title,description:ne.description,image:ne.image,price:ne.price,unit:ne.unit,cat:ne.cat,stock:ne.inventory};(function(e,t){return new Promise((function(a,n){g.a.put("".concat(Qe,"product/").concat(e),t).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(e.match.params.id,a).then((function(t){console.log(t),e.history.push("/dealer/dash/")})).catch((function(e){console.log(e)}))},autoComplete:"off"},r.a.createElement(C.a,{required:!0,name:"name",value:ne.name,onChange:ue,className:oe.form,label:"Product name"}),r.a.createElement(C.a,{required:!0,onChange:ue,name:"title",value:ne.title,type:"text",className:oe.form,label:"Title for the product"}),r.a.createElement(C.a,{required:!0,onChange:ue,name:"description",value:ne.description,className:oe.form,label:"Description"}),r.a.createElement(C.a,{required:!0,onChange:ue,name:"price",value:ne.price,className:oe.form,type:"number",label:"Price: \u20b9"}),r.a.createElement(C.a,{required:!0,onChange:ue,name:"cat",value:ne.cat,className:oe.form,type:"text",label:"category"}),r.a.createElement(C.a,{required:!0,onChange:ue,name:"inventory",value:ne.inventory,className:oe.form,type:"number",label:"Stock"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ut.a,{name:"unit",onChange:ue,value:ne.unit,style:{minWidth:500,marginLeft:10},native:!0},$.units?$.units.map((function(e){return r.a.createElement("option",{value:e},e)})):null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary"},"Edit"))),f?r.a.createElement(Oe.a,{fullScreen:!0,open:!0},r.a.createElement("div",{style:{margin:50}},r.a.createElement("div",{className:oe.cropContainer},r.a.createElement(Fe.a,{image:f,crop:v,rotation:k,zoom:P,aspect:4/3,onCropChange:O,onRotationChange:x,onCropComplete:V,onZoomChange:R})),r.a.createElement("div",{className:oe.sliderContainer},r.a.createElement(N.a,{variant:"overline",className:oe.sliderLabel},"Zoom"),r.a.createElement(_e.a,{value:P,min:1,max:3,step:.1,"aria-labelledby":"Zoom",className:oe.slider,onChange:function(e,t){return R(t)}})),r.a.createElement("div",{className:oe.sliderContainer},r.a.createElement(N.a,{variant:"overline",className:oe.sliderLabel},"Rotation"),r.a.createElement(_e.a,{value:k,min:0,max:360,step:1,"aria-labelledby":"Rotation",className:oe.slider,onChange:function(e,t){return x(t)}})),r.a.createElement(w.a,{onClick:J,variant:"contained",color:"primary",className:oe.cropButton},"Crop Image"))):null)})),dt=Object(T.a)((function(e){return{paper:{margin:100,padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:150,width:"55%"}}})),gt=function(){var e=Object(n.useState)({live:!1}),t=Object(u.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){(function(e){return new Promise((function(t,a){g.a.post("".concat(Qe,"settings"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))})({token:localStorage.getItem("dToken")}).then((function(e){console.log(e),o({live:e.data[0].live})}))}),[]);var l=dt(),c=Object(U.a)(l.paper,l.fixedHeight);return r.a.createElement(I.a,null,r.a.createElement(me.a,{className:c},"Store Status",r.a.createElement("form",null,r.a.createElement(ut.a,{onChange:function(e){o({live:e.target.value})},value:a.live,style:{minWidth:150},native:!0},r.a.createElement("option",{value:!0},"Open"),r.a.createElement("option",{value:!1},"Close")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w.a,{onClick:function(){var e;console.log(a.live),(e={set:a.live,token:localStorage.getItem("dToken")},new Promise((function(t,a){g.a.put("".concat(Qe,"settings"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))).then((function(e){alert("Status Changed"),console.log(e)}))},variant:"contained",color:"primary"},"Change"))))},pt=a(214),ft=a.n(pt);function ht(e){var t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],o=a[1],l=function(){o(!1)};return r.a.createElement("div",null,r.a.createElement(W.a,{onClick:function(){o(!0)},"aria-label":"delete"},r.a.createElement(Ce.a,null)),r.a.createElement(Oe.a,{open:n,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(we.a,{id:"alert-dialog-title"},"Are you sure you want to delete the product?"),r.a.createElement(je.a,null,r.a.createElement(ye.a,{id:"alert-dialog-description"},"The product will be deleted forever")),r.a.createElement(Se.a,null,r.a.createElement(w.a,{onClick:l,color:"primary"},"No"),r.a.createElement(w.a,{onClick:function(){e.click(),o(!1)},color:"primary",autoFocus:!0},"Yes"))))}var Et=Object(se.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(pe.a),bt=Object(se.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Ee.a),vt=Object(T.a)({table:{minWidth:700,overflowY:"scroll"},large:{width:100,height:100}}),Ot=Object(c.g)((function(e){var t,a=function(t){var a=localStorage.getItem("dToken");console.log(a),function(e,t){return new Promise((function(a,n){g.a.delete("".concat(Qe,"product/").concat(e),{headers:{authorization:"Brearer ".concat(t)}}).then((function(e){a(e)})).catch((function(e){n(e)}))}))}(t,a).then((function(a){e.del(t),console.log(a)}))},n=vt();return t=e.data.map((function(t){return r.a.createElement(bt,{key:t._id},r.a.createElement(Et,{align:"left"},r.a.createElement(y.a,{alt:"Upload the image",src:t.image.thumbnail,className:n.large},"PHOTO")),r.a.createElement(Et,{align:"left"},t.title),r.a.createElement(Et,{align:"left"},t.name),r.a.createElement(Et,{align:"right"}," \u20b9",t.price),r.a.createElement(Et,{align:"right"},t.unit),r.a.createElement(Et,{align:"right"},t.stock?t.stock+" "+t.unit+" Left":"Out of Stock"," "),r.a.createElement(Et,{align:"right"},t.cat),r.a.createElement(Et,{align:"right"},r.a.createElement(ht,{click:function(){return a(t._id)}})),r.a.createElement(Et,{align:"right"},r.a.createElement(W.a,{onClick:function(){return a=t._id,console.log("yess"),void e.history.push("/dealer/dash/product/".concat(a));var a},"aria-label":"delete"},r.a.createElement(ve.a,null))))})),r.a.createElement(fe.a,{component:me.a},r.a.createElement(N.a,{component:"h2",variant:"h6",color:"secondary",gutterBottom:!0},"All Products"),r.a.createElement(de.a,{className:n.table,"aria-label":"customized table"},r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Et,{align:"left"},"Image"),r.a.createElement(Et,{align:"left"},"Title"),r.a.createElement(Et,{align:"left"},"Product"),r.a.createElement(Et,{align:"right"},"Price "),r.a.createElement(Et,{align:"right"},"Unit "),r.a.createElement(Et,{align:"right"},"Stock Left "),r.a.createElement(Et,{align:"right"},"Category"),r.a.createElement(Et,{align:"right"},"Delete"),r.a.createElement(Et,{align:"right"},"Edit"))),r.a.createElement(ge.a,null,t)))})),St=Object(T.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeight:{height:150}}})),jt=Object(i.b)((function(e){return{token:e.dealer.token,error:e.dealer.error,loading:e.dealer.loading}}),(function(e){return{onSubmitForm:function(t,a){return e(lt(t,a))}}}))((function(e){var t=Object(n.useState)({data:null}),a=Object(u.a)(t,2),o=a[0],l=a[1];Object(n.useEffect)((function(){!function(){var e=Object(ce.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={token:localStorage.getItem("dToken")},$e(t).then((function(e){l({data:e.data[0].products})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var c=St();return r.a.createElement("main",{className:c.content},r.a.createElement("div",{className:c.appBarSpacer}),r.a.createElement(I.a,{maxWidth:"lg",className:c.container},r.a.createElement(ie.a,{pt:4}),r.a.createElement(re.c,{to:"/dealer/dash/product/add"},r.a.createElement(w.a,{variant:"contained",color:"primary"},"Add")),r.a.createElement("br",null),r.a.createElement("br",null),o.data?r.a.createElement(Ot,{data:o.data,del:function(e){var t=o.data.filter((function(t){return t._id!==e}));console.log(t),l({data:t})}}):r.a.createElement(N.a,null,"Loading....")))})),yt=Object(T.a)((function(e){return{paper:{margin:100,padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:"100%"},form:{margin:e.spacing(1),width:"100ch"},large:{width:e.spacing(20),height:e.spacing(20)},cropContainer:Object(L.a)({position:"relative",width:"100%",height:200,background:"#333"},e.breakpoints.up("sm"),{height:400}),cropButton:{flexShrink:0,marginLeft:16},controls:Object(L.a)({padding:16,display:"flex",flexDirection:"column",alignItems:"stretch"},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"center"}),sliderContainer:{display:"flex",flex:"1",alignItems:"center"},sliderLabel:Object(L.a)({},e.breakpoints.down("xs"),{minWidth:65}),slider:Object(L.a)({padding:"22px 0px",marginLeft:16},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"center",margin:"0 16px"})}})),wt=function(e){var t=Object(n.useState)(0),a=Object(u.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)({select:null}),i=Object(u.a)(c,2),m=i[0],s=i[1],d=Object(n.useState)(),p=Object(u.a)(d,2),f=p[0],h=p[1],E=Object(n.useState)({x:0,y:0}),b=Object(u.a)(E,2),v=b[0],O=b[1],S=Object(n.useState)(0),j=Object(u.a)(S,2),k=j[0],x=j[1],A=Object(n.useState)(1),T=Object(u.a)(A,2),P=T[0],R=T[1],B=Object(n.useState)(null),_=Object(u.a)(B,2),H=_[0],F=_[1],z=Object(n.useState)(null),W=Object(u.a)(z,2),G=W[0],q=W[1],V=Object(n.useCallback)((function(e,t){F(t)}),[]),J=Object(n.useCallback)(Object(ce.a)(le.a.mark((function e(){var t,a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(null),e.prev=1,e.next=4,Ge(f,H,k);case 4:t=e.sent,a=URL.createObjectURL(t),n=new File([t],"imageg.jpg"),s({select:n}),console.log(n),q(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),[H,k,f]),Y=(Object(n.useCallback)((function(){q(null)}),[]),Object(n.useState)({image:null,thumbnail:null})),M=Object(u.a)(Y,2),X=M[0],Z=M[1],K=Object(n.useState)({units:null}),Q=Object(u.a)(K,2),$=Q[0],ee=Q[1],te=Object(n.useState)({name:"",title:"",description:"",image:"",price:"",unit:"Unit",cat:"",inventory:""}),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1];Object(n.useEffect)((function(){var e={token:localStorage.getItem("dToken")};at(e).then((function(e){console.log(e.data[0].units),ee({units:e.data[0].units})}))}),[]);var oe=yt(),ie=Object(U.a)(oe.paper,oe.fixedHeight),ue=function(e){re(Object(D.a)(Object(D.a)({},ne),{},Object(L.a)({},e.target.name,e.target.value)))};return r.a.createElement(I.a,null,r.a.createElement(me.a,{className:ie},r.a.createElement("h1",null,"Add Product"),r.a.createElement(y.a,{alt:"Upload the image",src:G,className:oe.large},"PHOTO"),r.a.createElement("form",{onSubmit:function(t){console.log(X.image),t.preventDefault(),function(e){return new Promise((function(t,a){g.a.post("".concat(Qe,"product"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))}({token:localStorage.getItem("dToken"),name:ne.name,title:ne.title,description:ne.description,price:ne.price,unit:ne.unit,cat:ne.cat,stock:ne.inventory,image:X.image,thumbnail:X.thumbnail}).then((function(t){console.log(t),e.history.push("/dealer/dash/")})).catch((function(e){console.log(e)}))},autoComplete:"off"},r.a.createElement(Be.a,{accept:"image/x-png,image/gif,image/jpeg",required:!0,type:"file",name:"file",onChange:function(e){console.log(e.target.files[0].size);var t=e.target.files[0].name.substring(e.target.files[0].name.lastIndexOf(".")+1).toLowerCase();if(console.log(t),e.target.files[0].size>2e6)alert("File is too big!");else if("gif"===t||"png"===t||"bmp"===t||"jpeg"===t||"jpg"===t){var a=URL.createObjectURL(e.target.files[0]);h(a),l(0),console.log(e.target.files[0]),s({select:e.target.files[0]})}else alert("Upload an image file")}}),G?r.a.createElement(w.a,{onClick:function(){var e={onUploadProgress:function(e){var t=e.lengthComputable?e.total:e.target.getResponseHeader("content-length")||e.target.getResponseHeader("x-decompressed-content-length");console.log("onUploadProgress",t),null!==t&&l(Math.round(100*e.loaded/t))}},t=new FormData;t.append("file",m.select),et(t,e).then((function(e){console.log(e.data.imageName),console.log(e.data.thumbnail),Z({image:e.data.imageName,thumbnail:e.data.thumbnail})}))}},"Upload Photo"):null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ue.a,{style:{width:"60%"},variant:"determinate",value:o}),r.a.createElement(C.a,{name:"name",value:ne.name,onChange:ue,className:oe.form,label:"Product name",required:!0}),r.a.createElement(C.a,{required:!0,onChange:ue,name:"title",value:ne.title,type:"text",className:oe.form,label:"Title for the product"}),r.a.createElement(C.a,{required:!0,onChange:ue,name:"description",value:ne.description,className:oe.form,label:"Description"}),r.a.createElement(C.a,{required:!0,onChange:ue,name:"price",value:ne.price,className:oe.form,type:"number",label:"Price: \u20b9"}),r.a.createElement(C.a,{required:!0,onChange:ue,name:"cat",value:ne.cat,className:oe.form,type:"text",label:"Category"}),r.a.createElement(C.a,{required:!0,onChange:ue,name:"inventory",value:ne.inventory,className:oe.form,type:"number",label:"Stock"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ut.a,{name:"unit",onChange:ue,value:ne.unit,style:{minWidth:500,marginLeft:10},native:!0},$.units?$.units.map((function(e){return r.a.createElement("option",{value:e},e)})):null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary"},"Add Product")),r.a.createElement("div",null)),f?r.a.createElement(Oe.a,{fullScreen:!0,open:!0},r.a.createElement("div",{style:{margin:50}},r.a.createElement("div",{className:oe.cropContainer},r.a.createElement(Fe.a,{image:f,crop:v,rotation:k,zoom:P,aspect:4/3,onCropChange:O,onRotationChange:x,onCropComplete:V,onZoomChange:R})),r.a.createElement("div",{className:oe.sliderContainer},r.a.createElement(N.a,{variant:"overline",className:oe.sliderLabel},"Zoom"),r.a.createElement(_e.a,{value:P,min:1,max:3,step:.1,"aria-labelledby":"Zoom",className:oe.slider,onChange:function(e,t){return R(t)}})),r.a.createElement("div",{className:oe.sliderContainer},r.a.createElement(N.a,{variant:"overline",className:oe.sliderLabel},"Rotation"),r.a.createElement(_e.a,{value:k,min:0,max:360,step:1,"aria-labelledby":"Rotation",className:oe.slider,onChange:function(e,t){return x(t)}})),r.a.createElement(w.a,{onClick:J,variant:"contained",color:"primary",className:oe.cropButton},"Crop Image"))):null)},kt=a(82),Ct=a.n(kt),xt=a(152),At=a.n(xt),Nt=Object(T.a)({table:{minWidth:650}});function Tt(e){var t=Nt(),a=r.a.useState(!1),n=Object(u.a)(a,2),o=n[0],l=n[1],c=function(t){(function(e){return new Promise((function(t,a){g.a.put("".concat(Qe,"item"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))})({token:localStorage.getItem("dToken"),orderId:e.orderId,id:t}).then((function(t){alert("The Item has been rejected "),i(),e.getData()})),console.log(t,e.orderId)},i=function(){l(!1)};return r.a.createElement("div",null,r.a.createElement(W.a,{onClick:function(){l(!0)},"aria-label":"delete"},r.a.createElement(At.a,null)),r.a.createElement(Oe.a,{open:o,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(we.a,{id:"alert-dialog-title"},"Items"),r.a.createElement(je.a,null,r.a.createElement(ye.a,{id:"alert-dialog-description"},r.a.createElement(fe.a,{component:me.a},r.a.createElement(de.a,{className:t.table,size:"small","aria-label":"a dense table"},r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,r.a.createElement(pe.a,{align:"left"},"Image"),r.a.createElement(pe.a,null,"Item Name "),r.a.createElement(pe.a,{align:"left"},"Count"),r.a.createElement(pe.a,{align:"left"},"Price "),r.a.createElement(pe.a,{align:"lef"},"Status"))),r.a.createElement(ge.a,null,e.data.map((function(e,t){return r.a.createElement(Ee.a,{key:t},r.a.createElement(pe.a,{align:"right"},r.a.createElement(y.a,null,r.a.createElement("img",{width:"100%",height:"100%",src:e.image.thumbnail}))),r.a.createElement(pe.a,{align:"left"},e.name),r.a.createElement(pe.a,{align:"left"},e.count),r.a.createElement(pe.a,{align:"Left"},e.price+" per "+e.unit),r.a.createElement(pe.a,{component:"th",align:"left",scope:"row"},e.reject?"Rejected":r.a.createElement(w.a,{onClick:function(){return c(e._id)},size:"small",variant:"contained"},"Reject")))}))))))),r.a.createElement(Se.a,null,r.a.createElement(w.a,{onClick:i,color:"primary"},"Close"))))}var It=Object(se.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(pe.a),Pt=Object(se.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Ee.a),Rt=Object(T.a)({table:{minWidth:700,overflowY:"auto"},large:{width:100,height:100},paper:{overflowY:"auto"}}),Lt=function(){var e=Object(n.useState)({data:null}),t=Object(u.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){var e;(e={token:localStorage.getItem("dToken")},new Promise((function(t,a){g.a.post("".concat(Qe,"orders"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))).then((function(e){console.log(e.data),o({data:e.data})}))},c=function(e,t){(function(e){return new Promise((function(t,a){g.a.put("".concat(Qe,"orders"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))})({token:localStorage.getItem("dToken"),status:e,id:t}).then((function(){alert("Status Changed")})),console.log(e,t)},i=Rt(),m=null;return a.data&&(m=a.data.map((function(e){var t=e.order,a=t.map((function(e){return e.count})).reduce((function(e,t){return e+t}),0),n=new Date(e.createdOn),o=null;return r.a.createElement(Pt,null,r.a.createElement(It,{align:"left"},n.toLocaleTimeString()),r.a.createElement(It,{align:"left"},"\u20b9 ",e.price),r.a.createElement(It,{align:"left"},e.address),r.a.createElement(It,{align:"left"},"Name:- ",e.user.name," ",r.a.createElement("br",null)," Phone :- ",e.user.phone),r.a.createElement(It,{align:"left"},e.payment.mode),r.a.createElement(It,{align:"left"},r.a.createElement(ut.a,{native:!0,onChange:function(e){o=e.target.value}},r.a.createElement("option",{value:e.status},e.status),"Rejected"!==e.status?r.a.createElement("option",{value:"Rejected"},"Rejected"):null,"Pending"!==e.status?r.a.createElement("option",{value:"Pending"},"Pending"):null,"Confrimed"!==e.status?r.a.createElement("option",{value:"Confrimed"},"Confrimed"):null,"Packing"!==e.status?r.a.createElement("option",{value:"Packing"},"Packing"):null,"On the way"!==e.status?r.a.createElement("option",{value:"On the Way"},"On the Way"):null,"Delivered"!==e.status?r.a.createElement("option",{value:"Delivered"},"Delivered"):null),r.a.createElement(w.a,{onClick:function(){return c(o,e._id)}},"Change")),r.a.createElement(It,{align:"left"},a," Items"),r.a.createElement(It,{align:"right"},r.a.createElement(W.a,{"aria-label":"delete"},r.a.createElement(Tt,{data:t,orderId:e._id,getData:l}))))}))),r.a.createElement(fe.a,{style:{marginTop:"80px"},className:i.paper,component:me.a},r.a.createElement(N.a,{component:"h2",variant:"h6",color:"secondary",gutterBottom:!0},"Orders"),r.a.createElement(de.a,{className:i.table,"aria-label":"customized table"},r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,r.a.createElement(It,{align:"left"},"Ordered on "),r.a.createElement(It,{align:"left"},"Price"),r.a.createElement(It,{align:"left"},"Address"),r.a.createElement(It,{align:"left"},"Contact Details "),r.a.createElement(It,{align:"left"},"Mode of payment "),r.a.createElement(It,{align:"left"},"Status"),r.a.createElement(It,{align:"left"},"No."),r.a.createElement(It,{align:"right"},"View"))),r.a.createElement(ge.a,null,m)))},Dt=Object(i.b)((function(e){return{token:e.dealer.token,error:e.dealer.error,loading:e.dealer.loading}}),(function(e){return{logoutHandler:function(){return e(ot)}}}))((function(e){Object(n.useEffect)((function(){!function(){var e=Object(ce.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={token:localStorage.getItem("dToken")},$e(t).then((function(e){console.log(e.data[0]);var t=function(e){0===e.indexOf("#")&&(e=e.slice(1));3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);if(6!==e.length)throw new Error("Invalid HEX color.");var t=(255-parseInt(e.slice(0,2),16)).toString(16),n=(255-parseInt(e.slice(2,4),16)).toString(16),r=(255-parseInt(e.slice(4,6),16)).toString(16);return"#"+a(t)+a(n)+a(r)}(e.data[0].color);function a(e,t){return t=t||2,(new Array(t).join("0")+e).slice(-t)}l({color:e.data[0].color,font:t,name:e.data[0].dealer_name,image:e.data[0].image.thumbnail})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var t=Object(n.useState)({color:"",name:"",image:""}),a=Object(u.a)(t,2),o=a[0],l=a[1],i=Object(T.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{backgroundColor:o.color,zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{color:o.font,flexGrow:1},drawerPaper:{backgroundColor:o.color,height:"50rem",position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(L.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:150},large:{width:e.spacing(8),height:e.spacing(8)}}}))(),m=r.a.useState(!0),s=Object(u.a)(m,2),d=s[0],g=s[1];return r.a.createElement("div",{className:i.root},r.a.createElement(k.a,null),r.a.createElement(_.a,{position:"absolute",className:Object(U.a)(i.appBar,d&&i.appBarShift)},r.a.createElement(H.a,{className:i.toolbar},r.a.createElement(W.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){g(!0)},className:Object(U.a)(i.menuButton,d&&i.menuButtonHidden)},r.a.createElement(q.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h6",noWrap:!0,className:i.title},"Dashboard"),r.a.createElement(W.a,{onClick:e.logoutHandler,color:"inherit"},r.a.createElement("a",{href:"/dealer/logout"},r.a.createElement(M.a,null))))),r.a.createElement(B.a,{variant:"permanent",classes:{paper:Object(U.a)(i.drawerPaper,!d&&i.drawerPaperClose)},open:d},r.a.createElement("div",{className:i.toolbarIcon},r.a.createElement(y.a,{className:i.large},r.a.createElement("img",{height:"100%",width:"100%",src:o.image})),r.a.createElement(N.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:i.title}),r.a.createElement(N.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:i.title},o.name),r.a.createElement(W.a,{onClick:function(){g(!1)}},r.a.createElement(J.a,null))),r.a.createElement(z.a,null),r.a.createElement(F.a,null,r.a.createElement(K.a,{component:re.b,to:"/dealer/dash",button:!0},r.a.createElement(Q.a,null,r.a.createElement(ft.a,{style:{color:o.font}})),r.a.createElement($.a,{primary:"Products",style:{color:o.font}})),r.a.createElement(K.a,{component:re.b,to:"/dealer/dash/orders",style:{color:o.font},button:!0},r.a.createElement(Q.a,null,r.a.createElement(Ct.a,{style:{color:o.font}})),r.a.createElement($.a,{primary:"Orders"})),r.a.createElement(K.a,{style:{color:o.font},component:re.b,to:"/dealer/dash/setting",button:!0},r.a.createElement(Q.a,null,r.a.createElement(ne.a,{style:{color:o.font}})),r.a.createElement($.a,{primary:"Settings"}))),r.a.createElement(z.a,null)),r.a.createElement("div",{className:i.appBarSpacer}),r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/dealer/dash/product/add",exact:!0,component:wt}),r.a.createElement(c.b,{path:"/dealer/dash/product/:id",component:st}),r.a.createElement(c.b,{path:"/dealer/dash/orders",component:Lt}),r.a.createElement(c.b,{path:"/dealer/dash/setting",component:gt}),r.a.createElement(c.b,{path:"/dealer/dash",component:jt})))})),Ut=function(){return r.a.createElement(c.a,{to:"/dealer/login"})},Bt="http://localhost:5050/user/",_t=function(e){return new Promise((function(t,a){g.a.post("".concat(Bt,"/order"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))},Ht=function(e,t){return new Promise((function(a,n){g.a.post("".concat(Bt,"/capture/").concat(e),t).then((function(e){a(e)})).catch((function(e){n(e)}))}))},Ft=function(e){return new Promise((function(t,a){g.a.post("".concat(Bt,"/orders"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))},zt=function(e){return{type:"AUTH_SUCCESS_USER",token:e}},Wt=function(e,t){return function(a){var n;a({type:"AUTH_START_USER"}),(n={phone:e,password:t},new Promise((function(e,t){g.a.post("".concat(Bt,"/login"),n).then((function(t){e(t)})).catch((function(e){t(e)}))}))).then((function(e){localStorage.setItem("uToken",e.data.token),a(zt(e.data.token))})).catch((function(e){console.log(e),a({type:"AUTH_FAIL_USER",error:"Server Down"})}))}},Gt=function(){return function(e){(function(e){return new Promise((function(t,a){g.a.post("".concat(Bt,"/auth"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))})({token:localStorage.getItem("uToken")}).then((function(t){var a=localStorage.getItem("uToken");e(zt(a))})).catch((function(e){console.log(e)}))}},qt=function(e){return{message:e,type:"LOGIN_OTP_FAIL"}},Vt=function(e){return function(t){var a;t({type:"LOGIN_OTP_START"}),(a={phone:e},new Promise((function(e,t){g.a.post("".concat(Bt,"/login/otp"),a).then((function(t){e(t)})).catch((function(e){t(e)}))}))).then((function(e){localStorage.setItem("LToken",e.data.temp),"error"===e.data.status?t(qt(e.data.message)):(console.log(e.data),t({type:"LOGIN_OTP_SEND"}))})).catch((function(e){console.log(e),t(qt("Server Down"))}))}},Jt=function(e){return function(t){t(Yt());var a,n={token:localStorage.getItem("LToken"),otp:e};(a=n,new Promise((function(e,t){g.a.post("".concat(Bt,"/login/verify"),a).then((function(t){e(t)})).catch((function(e){t(e)}))}))).then((function(e){"error"===e.data.status?t(Mt(e.data.message)):(localStorage.setItem("uToken",e.data.token),t(Xt()))})).catch((function(e){console.log(e),t(Mt("Server Down Try after sometime "))}))}},Yt=function(){return console.log("Start"),{type:"LOGIN_OTP_VERIFY_START"}},Mt=function(e){return console.log("fail"),{message:e,type:"LOGIN_OTP_VERIFY_FAIL"}},Xt=function(){return console.log("success"),{type:"LOGIN_OTP_VERIFY_SUCCESS"}},Zt=a(123),Kt=a.n(Zt);function Qt(e){var t=r.a.useState(!0),a=Object(u.a)(t,2),o=a[0],l=a[1],c=function(){l(!1)},i=Object(n.useState)({otp:""}),m=Object(u.a)(i,2),s=m[0],d=m[1];return r.a.createElement("div",null,r.a.createElement(Oe.a,{open:o,onClose:c,"aria-labelledby":"form-dialog-title"},r.a.createElement(we.a,{id:"form-dialog-title"},"Enter the OTP"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onOtpsubmitHandler(s.otp),c()}},r.a.createElement(je.a,null,r.a.createElement(C.a,{value:s.otp,onChange:function(e){d({otp:e.target.value})},autoFocus:!0,margin:"dense",id:"name",label:"OTP",type:"number",fullWidth:!0})),r.a.createElement(Se.a,null,r.a.createElement(w.a,{onClick:c,color:"primary"},"Cancel"),r.a.createElement(w.a,{type:"submit",onClick:c,color:"primary"},"Submit")))))}var $t=a(507),ea=a(122),ta=a.n(ea),aa=Object(T.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"black"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),na=Object(i.b)((function(e){return{token:e.user.login,error:e.user.error,loading:e.user.loading,otpSendLoading:e.user.otpLoading,otpSend:e.user.otpSend,verifyOtpLoading:e.user.verifyOtpLoading}}),(function(e){return{onSubmitForm:function(t,a){return e(Wt(t,a))},onOTPsubmit:function(t){return e(Vt(t))},onVerifyOTP:function(t){return e(Jt(t))}}}))((function(e){var t=aa(),a=Object(n.useState)({phone:"91",password:""}),o=Object(u.a)(a,2),l=o[0],i=o[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),g=d[0],p=d[1],f=function(e){i(Object(D.a)(Object(D.a)({},l),{},Object(L.a)({},e.target.name,e.target.value)))},h=Object(n.useState)(!1),E=Object(u.a)(h,2),b=E[0],v=E[1];return r.a.createElement(I.a,{component:"main",maxWidth:"xs"},e.token?r.a.createElement(c.a,{to:"/"}):null,r.a.createElement(k.a,null),e.otpSend?r.a.createElement(Qt,{onOtpsubmitHandler:function(t){return e.onVerifyOTP(t)}}):null,r.a.createElement("div",{className:t.paper},r.a.createElement(y.a,{className:t.avatar},r.a.createElement(Kt.a,null)),r.a.createElement(re.b,{to:"/"},r.a.createElement("img",{alt:"logo",src:s.a})),e.error?r.a.createElement(N.a,null,"Wrong Password or Username or Server Down"):null,r.a.createElement(N.a,{component:"h1",variant:"h5"},"Login if you have an account"),r.a.createElement("form",{className:t.form,onSubmit:function(t){t.preventDefault(),e.onSubmitForm(l.phone,l.password)}},r.a.createElement(C.a,{type:"number",value:l.phone,onChange:f,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"phone",label:"phone",name:"phone"}),g?null:r.a.createElement(C.a,{value:l.password,onChange:f,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),g?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{display:"inline"}},"or Login with ","    ",r.a.createElement(w.a,{onClick:function(){return p(!0)},variant:"contained",color:"primary",size:"small"},"OTP")),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"primary",className:t.submit},"Sign In"),r.a.createElement(re.b,{to:"/admin/login"},"Admin"),r.a.createElement(re.b,{to:"/dealer/login"},"Dealer"))),e.otpSendLoading?r.a.createElement($t.a,null):null,e.verifyOtpLoading?r.a.createElement($t.a,null):null,g?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(ta.a,{verifyCallback:function(){v(!0)},sitekey:"6LdO9NMZAAAAAFlviOTgQnWottGfzmTtf7D-eQ-t"}),r.a.createElement("br",null),b?r.a.createElement(w.a,{onClick:function(){return e.onOTPsubmit(l.phone)},variant:"contained",type:"submit"},"Send OTP"):null,r.a.createElement(w.a,{onClick:function(){return p(!1)}},"Go back")):null,r.a.createElement(N.a,{component:"h4"},"if you don't have an account ",r.a.createElement(re.b,{to:"/register"},"Sign up"))))})),ra=function(e){return{message:e,type:"REGISTER_USER_OTP_FAIL"}},oa=function(e,t,a,n){return function(r){var o;r({type:"REGISTER_USER_START"}),(o={phone:e,name:t,location:a,password:n},new Promise((function(e,t){g.a.post("".concat(Bt,"/register"),o).then((function(t){e(t)})).catch((function(e){t(e)}))}))).then((function(e){localStorage.setItem("OToken",e.data.temp),"error"===e.data.status?r(ra(e.data.message)):(console.log(e.data),r({type:"REGISTER_USER_OTP_SEND"}))})).catch((function(e){console.log(e),r(ra("Server Down"))}))}},la=function(e){return function(t){t(ca());var a,n={token:localStorage.getItem("OToken"),otp:e};(a=n,new Promise((function(e,t){g.a.post("".concat(Bt,"/register/auth"),a).then((function(t){e(t)})).catch((function(e){t(e)}))}))).then((function(e){"error"===e.data.status?t(ia(e.data.message)):t(ua())})).catch((function(e){console.log(e),t(ia("Server Down Try after sometime "))}))}},ca=function(){return console.log("Start"),{type:"OTP_USER_START"}},ia=function(e){return console.log("fail"),{message:e,type:"OTP_USER_FAIL"}},ua=function(){return console.log("success"),{type:"OTP_USER_SUCCESS"}};function ma(e){var t=r.a.useState(!0),a=Object(u.a)(t,2),n=a[0],o=a[1],l=function(){e.clcikOn(),o(!1)};return r.a.createElement("div",null,r.a.createElement(Oe.a,{open:n,onClose:l,"aria-labelledby":"form-dialog-title"},r.a.createElement(we.a,{style:{margin:"auto"},id:"form-dialog-title"},r.a.createElement("img",{src:s.a})),r.a.createElement(je.a,null,r.a.createElement(N.a,{variant:"h5",gutterBottom:!0},"Congratulations,you have successfully registered"," ")),r.a.createElement(Se.a,null,r.a.createElement(w.a,{type:"submit",onClick:l,color:"primary"},"Login to your new account"))))}var sa=Object(T.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(10)}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"black"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),da=Object(i.b)((function(e){return{errorOtp:e.user.errorOtp,loadingOtp:e.user.loadingOtp,sendOtp:e.user.sendOtp,loadingVerify:e.user.loadingVerify,verifyError:e.user.verifyError,verifySuccess:e.user.verifySuccess}}),(function(e){return{verifyOTP:function(t){return e(la(t))},onSubmitForm:function(t,a,n,r){return e(oa(t,a,n,r))}}}))((function(e){var t,a=sa(),o=Object(n.useState)({phone:"91",name:"",location:"",password:"",otp:""}),l=Object(u.a)(o,2),i=l[0],m=l[1],d=function(e){m(Object(D.a)(Object(D.a)({},i),{},Object(L.a)({},e.target.name,e.target.value)))},g=Object(n.useState)(!1),p=Object(u.a)(g,2),f=p[0],h=p[1];return r.a.createElement(I.a,{component:"main",maxWidth:"xs"},e.success?r.a.createElement(c.a,{to:"/login"}):null,r.a.createElement(k.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(y.a,{className:a.avatar},r.a.createElement(Kt.a,null)),r.a.createElement(re.b,{to:"/"},r.a.createElement("img",{alt:"",src:s.a})),e.verifyError?r.a.createElement(N.a,null,e.verifyError):null,e.errorOtp?r.a.createElement(N.a,null,e.errorOtp):null,e.error?r.a.createElement(N.a,null,"Server Down Try again after some time"):null,r.a.createElement(N.a,{component:"h1",variant:"h5"},"Register with your phone number"),r.a.createElement("form",{className:a.form,onSubmit:function(t){t.preventDefault(),console.log("He"),e.onSubmitForm(i.phone,i.name,i.location,i.password)}},r.a.createElement(C.a,{type:"number",value:i.phone,onChange:d,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"phone",label:"Phone",name:"phone"}),r.a.createElement(C.a,{value:i.name,onChange:d,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"name",label:"Name",id:"name"}),r.a.createElement(C.a,{value:i.location,onChange:d,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"location",label:"Location",id:"name"}),r.a.createElement(C.a,(t={name:"password",onChange:d,value:i.password,required:!0,variant:"outlined",margin:"normal"},Object(L.a)(t,"required",!0),Object(L.a)(t,"fullWidth",!0),Object(L.a)(t,"type","password"),Object(L.a)(t,"label","password  for your account"),t)),r.a.createElement(ta.a,{verifyCallback:function(){h(!0)},sitekey:"6LdO9NMZAAAAAFlviOTgQnWottGfzmTtf7D-eQ-t"}),e.loadingOtp?r.a.createElement($t.a,{color:"secondary"}):null,e.loadingOtp?null:r.a.createElement(r.a.Fragment,null,f?r.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary",className:a.submit},"Send OTP"):null),e.loadingVerify?r.a.createElement($t.a,{color:"secondary"}):null),r.a.createElement("br",null),e.sendOtp?r.a.createElement(Qt,{onOtpsubmitHandler:function(t){return e.verifyOTP(t)},view:!0}):null,e.loadingOtp?null:r.a.createElement(N.a,{component:"h4"}," ","if you have an account ",r.a.createElement(re.b,{to:"/login"},"Sign in"))),e.verifySuccess?r.a.createElement(ma,{clcikOn:function(){e.history.push("/login")},view:!0}):null,r.a.createElement("div",{className:a.root}))})),ga=function(){return r.a.createElement(c.a,{to:"/"})},pa=a(61),fa=function(e){var t=e.auth,a=e.component,n=Object(pa.a)(e,["auth","component"]);return r.a.createElement(c.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(c.a,{to:{pathname:"/admin/login"}})}}))},ha=function(e){var t=e.auth,a=e.component,n=Object(pa.a)(e,["auth","component"]);return r.a.createElement(c.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(c.a,{to:{pathname:"/dealer/login"}})}}))},Ea=function(e){var t=e.auth,a=e.component,n=Object(pa.a)(e,["auth","component"]);return r.a.createElement(c.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(c.a,{to:{pathname:"/"}})}}))},ba=a(509),va=a(511),Oa=a(221),Sa=a.n(Oa),ja=a(220),ya=a.n(ja),wa=a(222),ka=a.n(wa),Ca=a(218),xa=a.n(Ca),Aa=a(215),Na=a.n(Aa),Ta=a(219),Ia=a.n(Ta),Pa=Object(T.a)((function(e){return{formControl:{margin:"auto",marginLeft:125,minWidth:300},button:{marginLeft:20},selectEmpty:{marginTop:e.spacing(2)},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{cursor:"pointer",paddingTop:"56.25%"},cardContent:{cursor:"pointer",flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},large:{width:100,height:100,marginTop:10,margin:"auto"}}})),Ra=a(512),La=a(510),Da=a(518),Ua=a(508),Ba=a(484),_a=a(124),Ha=a.n(_a),Fa=Object(se.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,o=Object(pa.a)(e,["children","classes","onClose"]);return r.a.createElement(we.a,Object.assign({disableTypography:!0,className:a.root},o),r.a.createElement(N.a,{variant:"h6"},t),n?r.a.createElement(W.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(Ha.a,null)):null)})),za=Object(se.a)((function(e){return{root:{padding:e.spacing(2)}}}))(je.a),Wa=Object(se.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(Se.a);function Ga(e){var t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],o=a[1],l=function(){o(!0)},c=function(){o(!1)},i=r.a.createElement(w.a,{color:"primary",onClick:l},"view");return e.view&&(i=r.a.createElement("div",{onClick:function(){return l()}},e.children)),r.a.createElement("div",null,i,r.a.createElement(Oe.a,{onClose:c,"aria-labelledby":"customized-dialog-title",open:n},r.a.createElement(Fa,{id:"customized-dialog-title",onClose:c},e.data.name),r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement("img",{width:"240rem",alt:"logo",height:"200rem",src:e.data.image.imageName})),r.a.createElement(Fa,{id:"customized-dialog-title",onClose:c},e.data.title," ",r.a.createElement("br",null)," \u20b9",e.data.price,"/",e.data.unit),r.a.createElement(za,{dividers:!0},r.a.createElement(ye.a,{id:"alert-dialog-description"},e.data.cat),r.a.createElement(N.a,{gutterBottom:!0},e.data.title),r.a.createElement(N.a,{gutterBottom:!0},e.data.description),r.a.createElement(N.a,{gutterBottom:!0},"Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.")),r.a.createElement(Wa,null,e.data.stock>0?r.a.createElement(w.a,{autoFocus:!0,onClick:function(){e.cart(),c()},style:{borderRadius:35,backgroundColor:"#2FEF92",padding:"18px 36px",fontSize:"10px",marginLeft:20},variant:"contained"},r.a.createElement(Ct.a,null)):r.a.createElement(w.a,null," Out Of Stock"))))}var qa=a(515);function Va(e){var t=r.a.useState(!0),a=Object(u.a)(t,2),n=a[0],o=a[1],l=function(e,t){"clickaway"!==t&&o(!1)};return r.a.createElement("div",null,r.a.createElement(qa.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,autoHideDuration:6e3,onClose:l,message:e.message,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{size:"small","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(Ha.a,{fontSize:"small"})))}))}var Ja=a(216),Ya=a.n(Ja),Ma=a(217),Xa=a.n(Ma),Za=function(e){var t=Object(n.useState)(Object(L.a)({select:"",store:null,data:null},"select",null)),a=Object(u.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)({card:null}),i=Object(u.a)(c,2),m=(i[0],i[1],Object(n.useState)()),s=Object(u.a)(m,2),d=s[0],p=s[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("cart"));if(e){var t=e.map((function(e){return e.count})).reduce((function(e,t){return e+t}),0);p(t)}new Promise((function(e,t){g.a.get("".concat(Bt,"/store/")).then((function(t){e(t.data)})).catch((function(e){t(e)}))})).then((function(e){l(Object(D.a)(Object(D.a)({},o),{},{store:e}))}))}),[]);var f=null;o.store&&(f=o.store.map((function(e){return r.a.createElement(Ua.a,{value:e.dealer_name},e.dealer_name)})));var h=Pa(),E=Object(n.useState)(!1),b=Object(u.a)(E,2),v=b[0],O=b[1],S=function(e){O(!0);var t=[];localStorage.getItem("cart")?(t=JSON.parse(localStorage.getItem("cart")),Boolean(t.find((function(t){return t._id===e._id})))||(e.count=1,e.dealer_name=o.select,t.push(e),localStorage.removeItem("cart"),localStorage.setItem("cart",JSON.stringify(t)),console.log(t))):(e.dealer_name=o.select,e.count=1,t.push(e),localStorage.setItem("cart",JSON.stringify(t)));setTimeout((function(){O(!1)}),1e3);var a=JSON.parse(localStorage.getItem("cart")).map((function(e){return e.count})).reduce((function(e,t){return e+t}),0);p(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ka,{count:d},r.a.createElement("main",null,v?r.a.createElement(Va,{open:!0,message:"Item added  to cart"}):null,r.a.createElement("div",{className:h.heroContent},r.a.createElement(I.a,{maxWidth:"sm"},r.a.createElement(N.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"My Mart"),r.a.createElement(N.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"Order from your nearest supermarket"),r.a.createElement(Ba.a,{className:h.formControl},r.a.createElement(Da.a,{id:"demo-simple-select-label"},"Select your mart "),r.a.createElement(ut.a,{labelId:"demo-simple-select-label",onChange:function(e){(console.log(e.target.value),localStorage.getItem("cart")&&JSON.parse(localStorage.getItem("cart")).length>0)&&(JSON.parse(localStorage.getItem("cart"))[0].dealer_name!==e.target.value&&(localStorage.removeItem("cart"),p(null)));l(Object(D.a)(Object(D.a)({},o),{},{select:e.target.value})),function(e){return new Promise((function(t,a){g.a.get("".concat(Bt,"/items/").concat(e.target.value)).then((function(e){t(e)})).catch((function(e){a(e)}))}))}(e).then((function(t){console.log(t.data),l(Object(D.a)(Object(D.a)({},o),{},{select:e.target.value,data:t.data[0].products,live:t.data[0].live,image:t.data[0].image.thumbnail}))}))},value:o.select,id:"demo-simple-select"},f),o.image?r.a.createElement(y.a,{className:h.large},r.a.createElement("img",{height:"100%",width:"100%",src:o.image})):null))),r.a.createElement("div",{style:{float:"right",marginRight:80}},o.data?o.live?r.a.createElement(ba.a,{raised:!0},r.a.createElement("img",{height:"80px",width:"80px",src:Ya.a})):r.a.createElement(ba.a,{raised:!0},r.a.createElement("img",{height:"80px",width:"80px",src:Xa.a})," "):null),r.a.createElement(I.a,{className:h.cardGrid,maxWidth:"md"},r.a.createElement(ue.a,{container:!0,spacing:4},o.data?o.data.map((function(e){return r.a.createElement(ue.a,{item:!0,key:e,xs:12,sm:6,md:4},r.a.createElement(ba.a,{className:h.card},r.a.createElement(Ga,{cart:function(){return S(e)},view:!0,data:e},r.a.createElement(La.a,{className:h.cardMedia,image:e.image.thumbnail,title:"Image title"}),r.a.createElement(va.a,{className:h.cardContent},r.a.createElement(N.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name,r.a.createElement(N.a,{style:{display:"inline ",marginLeft:"40%"}},"\u20b9",e.price,"/",e.unit)),r.a.createElement(N.a,null,"(",e.title,")"),r.a.createElement(N.a,{variant:"caption"},e.description))),r.a.createElement(z.a,{className:h.divider,light:!0}),r.a.createElement(Ra.a,null,r.a.createElement(Ga,{cart:function(){return S(e)},data:e}),r.a.createElement(ba.a,{style:{borderRadius:30,backgroundColor:"#2FEF92",padding:"15px 15px",fontSize:"11px",marginLeft:20},variant:"contained"},e.cat),e.stock>0?r.a.createElement(w.a,{onClick:function(){return S(e)},style:{borderRadius:35,backgroundColor:"#2FEF92",padding:"18px 36px",fontSize:"10px",marginLeft:20},variant:"contained"},r.a.createElement(Ct.a,null)):r.a.createElement(w.a,null," Out Of Stock"))))})):r.a.createElement(N.a,null,"Select a store"))))))},Ka=Object(i.b)((function(e){return{token:e.user.login,error:e.user.error,loading:e.user.loading}}),(function(e){return{onLogout:function(){return e((localStorage.removeItem("uToken"),{type:"AUTH_LOGOUT_USER"}))},checkAuth:function(){return e(Gt())}}}))((function(e){var t=Object(n.useState)(),a=Object(u.a)(t,2),o=a[0],l=a[1];Object(n.useEffect)((function(){e.checkAuth(),c()}),[e.count]);var c=function(){var e=JSON.parse(localStorage.getItem("cart"));if(e){var t=e.map((function(e){return e.count})).reduce((function(e,t){return e+t}),0);l(t)}},i=Pa(),m=r.a.createElement(n.Fragment,null,r.a.createElement(re.b,{style:{textDecoration:"none"},to:"/login"},r.a.createElement(w.a,{className:i.button},"Login")),r.a.createElement(re.b,{style:{textDecoration:"none"},to:"/register"},r.a.createElement(w.a,{className:i.button},"Register")));return e.token&&(m=r.a.createElement(n.Fragment,null,r.a.createElement(re.b,{to:"/history",style:{textDecoration:"none"}},r.a.createElement(W.a,null,r.a.createElement(xa.a,{style:{fontSize:30}}))),r.a.createElement(re.b,{to:"/live",style:{textDecoration:"none"}},r.a.createElement(W.a,null,r.a.createElement(Ia.a,{style:{fontSize:25}}),"Live")),r.a.createElement(re.b,{style:{textDecoration:"none"},onClick:function(){return e.onLogout()},to:"/logout"},r.a.createElement(w.a,{className:i.button},"Logout")))),r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,null),r.a.createElement(_.a,{color:"transparent",position:"relative"},r.a.createElement(H.a,null,r.a.createElement(N.a,{variant:"h6",color:"inherit",noWrap:!0},r.a.createElement(re.b,{to:"/"},r.a.createElement("img",{alt:"logo",src:s.a}))),r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(re.b,{to:"/cart",style:{textDecoration:"none"}},r.a.createElement(W.a,null,r.a.createElement(N.a,{variant:"subtitle1"},o),r.a.createElement("img",{width:"30px",src:Na.a}))),m))),e.children)})),Qa=Object(T.a)((function(e){return{paper:{height:500,width:500},paper1:{maxWidth:400,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)},control:{padding:e.spacing(2)},gridList:{width:500,height:450}}})),$a=Object(i.b)((function(e){return{token:e.user.login,error:e.user.error,loading:e.user.loading}}))((function(e){var t=Object(n.useState)({data:[]}),a=Object(u.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(),i=Object(u.a)(c,2),m=i[0],s=i[1],d=Object(n.useState)(),p=Object(u.a)(d,2),f=p[0],h=p[1],E=Object(n.useState)(),b=Object(u.a)(E,2),v=b[0],O=b[1],S=Object(n.useState)({data:null}),j=Object(u.a)(S,2),k=j[0],x=j[1];Object(n.useEffect)((function(){var e;(e=localStorage.getItem("uToken"),new Promise((function(t,a){g.a.post("".concat(Bt,"/userinfo"),{token:e}).then((function(e){t(e)})).catch((function(e){a(e)}))}))).then((function(e){console.log(e.data),x({data:e.data.location})}));var t=JSON.parse(localStorage.getItem("cart"));if(l({data:t}),t){var a=t.map((function(e){return e.count})).reduce((function(e,t){return e+t}),0);h(a);var n=t.map((function(e){return e.count*e.price})).reduce((function(e,t){return e+t}),0);s(n)}}),[]);var A=function(){var t=Object(ce.a)(le.a.mark((function t(){var a,n,r,o;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={price:m},t.next=3,_t(a);case 3:n=t.sent,r=n.data,o={key:"rzp_test_pD7pyj5JpXOA5a",name:"Your App Name",description:"Some Description",order_id:r.id,handler:function(){var t=Object(ce.a)(le.a.mark((function t(a){var n,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={price:m,order:localStorage.getItem("cart"),address:k.data,token:localStorage.getItem("uToken")},r=a.razorpay_payment_id,t.next=5,Ht(r,n);case 5:t.sent,alert("Your order has been placed "),localStorage.removeItem("cart"),e.history.push("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),theme:{color:"#000"}},new window.Razorpay(o).open();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=Qa(),P=r.a.createElement("h1",null,"....Add items to use the cart");return o.data&&(P=r.a.createElement("main",null,r.a.createElement(I.a,{style:{marginTop:"10px"}},r.a.createElement(ue.a,{container:!0,className:T.root,spacing:2},r.a.createElement(ue.a,{item:!0,xs:12},r.a.createElement(ue.a,{container:!0,justify:"center",spacing:5}," ",r.a.createElement(ue.a,{key:"1",item:!0},r.a.createElement("div",null,r.a.createElement(me.a,{elevation:3,className:T.paper},o.data.map((function(e,t){return r.a.createElement(me.a,{className:T.paper1},r.a.createElement(ue.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(ue.a,{item:!0},r.a.createElement(y.a,null,r.a.createElement("img",{height:"100%",width:"100%",src:e.image.thumbnail}))),r.a.createElement(ue.a,{item:!0,xs:!0},r.a.createElement(N.a,null,e.title," X"," ",r.a.createElement(N.a,{variant:"button",display:"inline",color:"textSecondary"},e.count)),r.a.createElement(N.a,null,"\u20b9",e.price,"/",e.unit)),r.a.createElement(ue.a,null,r.a.createElement(W.a,{onClick:function(){return function(e){var t=o.data[e];t.count=o.data[e].count-1;var a=o.data;t.count<=0?(a.splice(e,1),localStorage.setItem("cart",JSON.stringify(a)),l({data:a})):(a[e]=t,localStorage.setItem("cart",JSON.stringify(a)),l({data:a}));var n=a.map((function(e){return e.count})).reduce((function(e,t){return e+t}),0);h(n);var r=a.map((function(e){return e.count*e.price})).reduce((function(e,t){return e+t}),0);s(r)}(t)}},r.a.createElement(ya.a,null))),r.a.createElement(ue.a,null,r.a.createElement(W.a,{onClick:function(){return function(e){var t=o.data[e];t.count=o.data[e].count+1;var a=o.data;a[e]=t,localStorage.setItem("cart",JSON.stringify(a)),l({data:a});var n=a.map((function(e){return e.count})).reduce((function(e,t){return e+t}),0);h(n);var r=a.map((function(e){return e.count*e.price})).reduce((function(e,t){return e+t}),0);s(r)}(t)}},r.a.createElement(Sa.a,null))),r.a.createElement(ue.a,null,r.a.createElement(W.a,{onClick:function(){return function(e){var t=o.data[e];t.count=o.data[e].count-o.data[e].count;var a=o.data;t.count<=0?(a.splice(e,1),localStorage.setItem("cart",JSON.stringify(a)),l({data:a})):(a[e]=t,localStorage.setItem("cart",JSON.stringify(a)),l({data:a}));var n=a.map((function(e){return e.count})).reduce((function(e,t){return e+t}),0);h(n);var r=a.map((function(e){return e.count*e.price})).reduce((function(e,t){return e+t}),0);s(r)}(t)}},r.a.createElement(ka.a,null)))))}))))),r.a.createElement(ue.a,{key:"1",item:!0},r.a.createElement(me.a,{component:"div",elevation:3,className:T.paper},r.a.createElement(ue.a,null,r.a.createElement("div",{style:{margin:10}},r.a.createElement(ba.a,{style:{marginTop:10}},r.a.createElement(va.a,null,r.a.createElement(N.a,{variant:"h6"},"Total Amount : ",m),r.a.createElement(N.a,{style:{marginTop:10},variant:"h5"},"Total Items : ",f))),r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a,n=JSON.parse(localStorage.getItem("cart"))[0].dealer_name;console.log(n),(a={dealer:n},new Promise((function(e,t){g.a.post("".concat(Bt,"/live"),a).then((function(t){e(t)})).catch((function(e){t(e)}))}))).then((function(t){t.data[0].live?"ONLINE"===v?A():function(e){return new Promise((function(t,a){g.a.post("".concat(Bt,"/ordercod"),e).then((function(e){t(e)})).catch((function(e){a(e)}))}))}({price:m,order:localStorage.getItem("cart"),address:k.data,token:localStorage.getItem("uToken")}).then((function(t){console.log(t),localStorage.removeItem("cart"),e.history.push("/"),alert("Your order has been placed ")})):alert("The dealer is closed")}))}},r.a.createElement(ba.a,{style:{marginTop:10}},r.a.createElement(va.a,null,r.a.createElement(N.a,{variant:"h6"},"Address"),r.a.createElement(C.a,{required:!0,name:"address",className:T.form,value:k.data,onChange:function(e){return x(e.target.value)}}))),r.a.createElement(ba.a,{style:{marginTop:10}},r.a.createElement(va.a,null,r.a.createElement(N.a,{variant:"h6"},"Mode of payment"),r.a.createElement(ut.a,{onChange:function(e){console.log(e.target.value),O(e.target.value)},style:{minWidth:150},native:!0},r.a.createElement("option",{value:"COD"},"Cash on Delivery"),r.a.createElement("option",{value:"ONLINE"},"Online Payment"))),r.a.createElement(va.a,{style:{margin:"auto"}},e.token?r.a.createElement(w.a,{variant:"contained",color:"primary",type:"submit"},"ORDER NOW"):r.a.createElement(re.b,{to:"/login",style:{textDecoration:"none"}},r.a.createElement(w.a,{variant:"contained",color:"primary",type:"submit"},"LOGIN TO ORDER"))))))))))))))),r.a.createElement(n.Fragment,null,r.a.createElement(Ka,{count:f},P))})),en=Object(T.a)({table:{minWidth:650}});function tn(e){var t=en(),a=r.a.useState(!1),n=Object(u.a)(a,2),o=n[0],l=n[1],c=function(){l(!1)};return r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){l(!0)}},e.children),r.a.createElement("div",null,r.a.createElement(Oe.a,{open:o,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(we.a,{id:"alert-dialog-title"},"Items"),r.a.createElement(je.a,null,r.a.createElement(ye.a,{id:"alert-dialog-description"},r.a.createElement(fe.a,{component:me.a},r.a.createElement(de.a,{className:t.table,size:"small","aria-label":"a dense table"},r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,r.a.createElement(pe.a,{align:"left"},"Image"),r.a.createElement(pe.a,{align:"left"},"Item Name "),r.a.createElement(pe.a,{align:"left"},"Status "),r.a.createElement(pe.a,{align:"left"},"Count"),r.a.createElement(pe.a,{align:"left"},"Price "))),r.a.createElement(ge.a,null,e.data.map((function(e,t){return r.a.createElement(Ee.a,{key:t},r.a.createElement(pe.a,{align:"left"},r.a.createElement(y.a,null,r.a.createElement("img",{width:"100%",height:"100%",src:e.image.thumbnail}))),r.a.createElement(pe.a,{align:"left"},e.name),r.a.createElement(pe.a,{align:"left"},e.reject?"Rejected":"Accepted"),r.a.createElement(pe.a,{align:"left"},e.count),r.a.createElement(pe.a,{align:"left"},e.price+"\u20b9 per "+e.unit))}))))))),r.a.createElement(Se.a,null,r.a.createElement(w.a,{onClick:c,color:"primary"},"Close")))))}var an=Object(T.a)({root:{minWidth:500,marginTop:20,margin:30},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function nn(){var e=Object(n.useState)({data:null}),t=Object(u.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){Ft({token:localStorage.getItem("uToken")}).then((function(e){o({data:e.data})}))}),[]);var l=an();l.bullet;return r.a.createElement(I.a,null,r.a.createElement("div",{style:{width:600,height:500,overflow:"scroll"}},a.data?a.data.map((function(e){var t=new Date(e.createdOn);return"Delivered"===e.status||"Rejected"===e.status?r.a.createElement(ba.a,{raised:!0,className:l.root},r.a.createElement(tn,{data:e.order},r.a.createElement(va.a,null,r.a.createElement(N.a,{className:l.title,color:"textSecondary",gutterBottom:!0},e.status),r.a.createElement(N.a,{className:l.title,color:"textSecondary",gutterBottom:!0},t.toLocaleDateString()),r.a.createElement(N.a,{className:l.title,color:"textSecondary",gutterBottom:!0},e.address),r.a.createElement(N.a,{className:l.title,color:"textSecondary",gutterBottom:!0},"\u20b9"+e.price+" Paid via "+e.payment.mode),r.a.createElement(N.a,{className:l.title,color:"textSecondary",gutterBottom:!0},e.order.length+" Items from  "+e.order[0].dealer_name)))):null})):null))}var rn=Object(i.b)((function(e){return{token:e.user.login}}))((function(e){c.a;return e.token&&null,r.a.createElement(n.Fragment,null,r.a.createElement(Ka,null,r.a.createElement("div",{style:{width:"50px",marginLeft:"25%",marginTop:"2%"}},r.a.createElement(N.a,null," Order History"),r.a.createElement(nn,null))))})),on=a(223),ln=a.n(on),cn=a(224),un=a.n(cn),mn=a(225),sn=a.n(mn),dn=a(226),gn=a.n(dn),pn=Object(T.a)((function(e){return{root:{minWidth:500,marginTop:20,margin:30},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},large:{width:e.spacing(8),height:e.spacing(8)}}}));function fn(){var e=Object(n.useState)({data:null}),t=Object(u.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){Ft({token:localStorage.getItem("uToken")}).then((function(e){console.log(e.data),o({data:e.data})}))}),[]);var l=pn();l.bullet;return r.a.createElement("div",{style:{width:600,height:500,overflow:"scroll"}},a.data?a.data.map((function(e){var t=new Date(e.createdOn),a=null;switch(e.status){case"Pending":a=un.a;break;case"Confrimed":a=ln.a;break;case"On the Way":a=sn.a;break;case"Packing":a=gn.a}return"Delivered"!==e.status&&"Rejected"!==e.status?r.a.createElement(tn,{data:e.order},r.a.createElement(ba.a,{raised:!0,className:l.root},r.a.createElement(va.a,null,r.a.createElement(N.a,{className:l.title,color:"textSecondary",gutterBottom:!0},e.status,r.a.createElement(y.a,{className:l.large},r.a.createElement("img",{width:"100%",height:"100%",src:a}))),r.a.createElement(N.a,{className:l.title,color:"textSecondary",gutterBottom:!0},t.toLocaleDateString()),r.a.createElement(N.a,{className:l.title,color:"textSecondary",gutterBottom:!0},e.address),r.a.createElement(N.a,{className:l.title,color:"textSecondary",gutterBottom:!0},e.price+" Paid via "+e.payment.mode),r.a.createElement(N.a,{className:l.title,color:"textSecondary",gutterBottom:!0},e.order.length+" Items from  "+e.order[0].dealer_name)))):null})):null)}var hn=Object(i.b)((function(e){return{token:e.user.login}}))((function(e){c.a;return e.token&&null,r.a.createElement(n.Fragment,null,r.a.createElement(Ka,null,r.a.createElement("div",{style:{width:"50px",marginLeft:"25%",marginTop:"2%"}},r.a.createElement(N.a,null," Live Orders"),r.a.createElement(fn,null))))}));var En=Object(i.b)((function(e){return{adminAuth:e.admin.token,dealerAuth:e.dealer.token,userAuth:e.user.login}}),(function(e){return{checkAdmin:function(){return e((function(e){e({type:"AUTH_START"});var t={token:localStorage.getItem("aToken")};v(t,"auth").then((function(t){console.log(t);var a=localStorage.getItem("aToken");e(O(a))})).catch((function(e){console.log(e)}))}))},checkDealer:function(){return e((function(e){var t={token:localStorage.getItem("dToken")};nt(t,"auth").then((function(t){console.log(t),localStorage.getItem("dToken"),e(rt())})).catch((function(e){console.log(e)}))}))}}}))((function(e){var t=e.checkAdmin,a=e.checkDealer;return Object(n.useEffect)((function(){e.checkAdmin(),e.checkDealer()}),[t,a]),r.a.createElement("div",{className:"App"},r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/",exact:!0,component:Za}),r.a.createElement(c.b,{path:"/cart",exact:!0,component:$a}),r.a.createElement(Ea,{path:"/history",auth:e.userAuth,exact:!0,component:rn}),r.a.createElement(Ea,{path:"/live",auth:e.userAuth,exact:!0,component:hn}),r.a.createElement(c.b,{path:"/logout",component:ga}),r.a.createElement(c.b,{path:"/login",component:na}),r.a.createElement(c.b,{path:"/register",component:da}),r.a.createElement(c.b,{path:"/dealer/login",component:it}),r.a.createElement(ha,{path:"/dealer/",auth:e.dealerAuth,component:Dt}),r.a.createElement(c.b,{path:"/dealer/logout",component:Ut}),r.a.createElement(c.b,{path:"/admin/login",component:R}),r.a.createElement(fa,{path:"/admin/dash",auth:e.adminAuth,component:Ze}),r.a.createElement(c.b,{path:"/admin/logout",component:Ke}),r.a.createElement(c.a,{path:"/admin",to:"/admin/login"}),r.a.createElement(c.a,{to:"/"})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var bn=a(72),vn=a(227),On={token:!1,error:!1,loading:!1},Sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Object(D.a)(Object(D.a)({},e),{},{loading:!0,error:null});case"AUTH_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{token:!0,error:null,loading:!1});case"AUTH_FAIL":return Object(D.a)(Object(D.a)({},e),{},{error:!0,loading:!1});case"AUTH_LOGOUT":return Object(D.a)(Object(D.a)({},e),{},{error:!1,loading:!1,token:!1});default:return e}},jn={token:!1,error:!1,loading:!1},yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START_DEALER":return Object(D.a)(Object(D.a)({},e),{},{loading:!0,error:null});case"AUTH_SUCCESS_DEALER":return Object(D.a)(Object(D.a)({},e),{},{token:!0,error:null,loading:!1});case"AUTH_FAIL_DEALER":return Object(D.a)(Object(D.a)({},e),{},{error:!0,loading:!1});case"AUTH_LOGOUT_DEALER":return Object(D.a)(Object(D.a)({},e),{},{error:!1,loading:!1,token:null});default:return e}},wn={token:!1,login:!1,error:!1,loading:!1,otp:null,otpToken:null,otperror:!1,success:!1,errorOtp:null,loadingOtp:!1,sendOtp:!1,loadingVerify:!1,verifyError:null,verifySuccess:!1,otpStart:!1,otpLoading:!1,otpSend:!1,verifyOtp:!1,verifyOtpLoading:!1,verifyOtpFail:!1,verifyOtpSuccess:!1},kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OTP_USER_START":return Object(D.a)(Object(D.a)({},e),{},{loadingVerify:!0,verifyError:null,verifySuccess:!1});case"OTP_USER_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{loadingVerify:!1,verifyError:null,verifySuccess:!0,sendOtp:!1});case"OTP_USER_FAIL":return Object(D.a)(Object(D.a)({},e),{},{loadingVerify:!1,verifyError:t.message,verifySuccess:!1});case"REGISTER_USER_START":return Object(D.a)(Object(D.a)({},e),{},{loadingOtp:!0,errorOtp:null,sendOtp:!1});case"REGISTER_USER_OTP_SEND":return Object(D.a)(Object(D.a)({},e),{},{errorOtp:null,loadingOtp:!1,sendOtp:!0});case"REGISTER_USER_OTP_FAIL":return Object(D.a)(Object(D.a)({},e),{},{errorOtp:t.message,loadingOtp:!1,sendOtp:!1});case"AUTH_START_USER":return Object(D.a)(Object(D.a)({},e),{},{loading:!0,error:null});case"AUTH_SUCCESS_USER":return Object(D.a)(Object(D.a)({},e),{},{login:!0,error:null,loading:!1});case"AUTH_FAIL_USER":return Object(D.a)(Object(D.a)({},e),{},{error:!0,loading:!1});case"AUTH_LOGOUT_USER":return Object(D.a)(Object(D.a)({},e),{},{token:null,login:null,error:!1,loading:!1,otp:null,otpToken:null,otperror:!1});case"LOGIN_OTP_START":return Object(D.a)(Object(D.a)({},e),{},{otpStart:!0,otpLoading:!0});case"LOGIN_OTP_SEND":return Object(D.a)(Object(D.a)({},e),{},{otpStart:!1,otpLoading:!1,otpSend:!0});case"LOGIN_OTP_FAIL":return Object(D.a)(Object(D.a)({},e),{},{otpStart:!1,otpLoading:!1});case"LOGIN_OTP_VERIFY_START":return Object(D.a)(Object(D.a)({},e),{},{verifyOtp:!0,verifyOtpLoading:!0});case"LOGIN_OTP_VERIFY_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{verifyOtp:!1,verifyOtpLoading:!1,verifyOtpSuccess:!0,login:!0});case"LOGIN_OTP_VERIFY_FAIL":return Object(D.a)(Object(D.a)({},e),{},{verifyOtp:!1,verifyOtpLoading:!1,verifyOtpFail:!0});default:return e}},Cn=Object(bn.c)({admin:Sn,dealer:yn,user:kn}),xn=null;xn=bn.d;var An=Object(bn.e)(Cn,xn(Object(bn.a)(vn.a)));l.a.render(r.a.createElement(re.a,null,r.a.createElement(i.a,{store:An},r.a.createElement(En,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[252,1,2]]]);
//# sourceMappingURL=main.feb6cb45.chunk.js.map